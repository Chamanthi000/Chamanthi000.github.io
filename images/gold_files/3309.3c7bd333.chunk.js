(self.webpackChunklite=self.webpackChunklite||[]).push([[3309],{38125:(e,n,i)=>{var t=i(14259);e.exports=function(e){return null!=e&&e.length?t(e,0,-1):[]}},68254:e=>{"use strict";var n=Math.floor(1099511627776*Math.random()).toString(16),i=new RegExp('"@__(F|R|D|M|S|U)-'+n+'-(\\d+)__@"',"g"),t=/\{\s*\[native code\]\s*\}/g,a=/function.*?\(/,o=/.*?=>.*?/,l=/[<>\/\u2028\u2029]/g,r=["*","async"],d={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function s(e){return d[e]}e.exports=function e(d,c){c||(c={}),"number"!=typeof c&&"string"!=typeof c||(c={space:c});var m,u=[],p=[],k=[],v=[],g=[],f=[];return c.ignoreFunction&&"function"==typeof d&&(d=void 0),void 0===d?String(d):"string"!=typeof(m=c.isJSON&&!c.space?JSON.stringify(d):JSON.stringify(d,c.isJSON?null:function(e,i){if(c.ignoreFunction&&function(e){var n=[];for(var i in e)"function"==typeof e[i]&&n.push(i);for(var t=0;t<n.length;t++)delete e[n[t]]}(i),!i&&void 0!==i)return i;var t=this[e],a=typeof t;if("object"===a){if(t instanceof RegExp)return"@__R-"+n+"-"+(p.push(t)-1)+"__@";if(t instanceof Date)return"@__D-"+n+"-"+(k.push(t)-1)+"__@";if(t instanceof Map)return"@__M-"+n+"-"+(v.push(t)-1)+"__@";if(t instanceof Set)return"@__S-"+n+"-"+(g.push(t)-1)+"__@"}return"function"===a?"@__F-"+n+"-"+(u.push(t)-1)+"__@":"undefined"===a?"@__U-"+n+"-"+(f.push(t)-1)+"__@":i},c.space))?String(m):(!0!==c.unsafe&&(m=m.replace(l,s)),0===u.length&&0===p.length&&0===k.length&&0===v.length&&0===g.length&&0===f.length?m:m.replace(i,(function(n,i,l){return"D"===i?'new Date("'+k[l].toISOString()+'")':"R"===i?"new RegExp("+e(p[l].source)+', "'+p[l].flags+'")':"M"===i?"new Map("+e(Array.from(v[l].entries()),c)+")":"S"===i?"new Set("+e(Array.from(g[l].values()),c)+")":"U"===i?"undefined":function(e){var n=e.toString();if(t.test(n))throw new TypeError("Serializing native function: "+e.name);if(a.test(n))return n;if(o.test(n))return n;var i=n.indexOf("("),l=n.substr(0,i).trim().split(" ").filter((function(e){return e.length>0}));return l.filter((function(e){return-1===r.indexOf(e)})).length>0?(l.indexOf("async")>-1?"async ":"")+"function"+(l.join("").indexOf("*")>-1?"*":"")+n.substr(i):n}(u[l])})))}},93143:(e,n,i)=>{"use strict";i.d(n,{x:()=>q});var t=i(319),a=i.n(t),o=i(27628),l=i(69973),r=i(22223),d=i(18821),s=i(9970),c=i(57831),m=i(1279),u=i(84492),p=i(84683),k={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherName_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherDescription_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FollowAndSubscribeButtons_user"}}]}}].concat(a()(d.H.definitions),a()(s.g.definitions),a()(c.h.definitions),a()(m.m.definitions),a()(u.i.definitions))},v={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"editors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}].concat(a()(p.d.definitions))},g=i(24176),f=i(55193),S=i(66862),N=i(75865),h=i(75990),y=i(6177),b={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterPromo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"}}]}}]}}].concat(a()(N.kD.definitions),a()(h.P.definitions),a()(N.WZ.definitions),a()(y.b.definitions))},F=i(4966),E=i(36299),w=i(27448),x=i(31228),_=i(4088),P=i(51277),C=i(21247),I=i(41190),T=i(68216),O=i(32934),D={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(a()(T.$m.definitions),a()(O.bq.definitions))},R=i(97849),A={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"curationStatus"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat(a()(T.$m.definitions),a()(D.definitions),a()(R.i.definitions),a()(R.m.definitions),a()(O.HF.definitions),a()(O.Pz.definitions),a()(O.dm.definitions),a()(O.bq.definitions))},M={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterCollectionButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(T.nf.definitions))},V=i(78693),B=i(93647),L=i(71069),j=i(19308),U={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterBylineAurora_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"bio"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"auroraHooks_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserSubscribeButton_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"}}]}}].concat(a()(V.s.definitions),a()(B.C.definitions),a()(T.$m.definitions),a()(L.w.definitions),a()(j.I.definitions),a()(T.nf.definitions),a()(V.S.definitions),a()(j.b.definitions),a()(y.b.definitions))},H=i(97576),W={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Footer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterCollectionButton_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterBylineAurora_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNextFiveStories_post"}}]}}].concat(a()(M.definitions),a()(U.definitions),a()(H.Y.definitions))},G={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterInfo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterTags_post"}}]}}].concat(a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}}]}}]))},z=i(22836),Y=i(59966),q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"awardType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AwardType"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isSingleColumnLayout"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"googleAnalyticsId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCollectionHeader_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherHeader_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_collection"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isSingleColumnLayout"}}}]}]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MastodonVerificationLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherHeader_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_user"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isSingleColumnLayout"}}}]}]}]}},{kind:"Field",name:{kind:"Name",value:"customStyleSheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CustomThemeProvider_customStyleSheet"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"collaborators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCollectionHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterPromo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCanonicalizer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterActionsBar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBylineHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostMetadata_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Footer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterInfo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_post"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isSingleColumnLayout"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingToast_post"}},{kind:"Field",alias:{kind:"Name",value:"countToShowAwardBadge"},name:{kind:"Name",value:"awards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"awardType"}}},{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}}]}}]}}]}}].concat(a()(o.i.definitions),a()(l.P.definitions),a()(r.L.definitions),a()(v.definitions),a()(g.G.definitions),a()(f.v.definitions),a()(k.definitions),a()(S.K.definitions),a()(l.Q.definitions),a()(b.definitions),a()(F.r.definitions),a()(E.Uw.definitions),a()(w.y.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCanonicalizer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}]),a()(x.R.definitions),a()(C.Z.definitions),a()(I.C.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),a()(_.u.definitions),a()([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),a()(A.definitions),a()(f.Q.definitions),a()(W.definitions),a()(P.v.definitions),a()(G.definitions),a()(z.C.definitions),a()(Y.x.definitions))}},61280:(e,n,i)=>{"use strict";i.d(n,{X:()=>u});var t=i(64718),a=i(77280),o=i(43487),l=i(50458),r=i(319),d=i.n(r),s=i(4966),c=i(21247),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"usePostPageMeterQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"meterPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}},{kind:"Field",name:{kind:"Name",value:"unlocksRemaining"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_meteringInfo"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostHeader_meteringInfo"}}]}}]}}]}}].concat(d()(s.Y.definitions),d()(c.X.definitions))};function u(e){var n=e.params,i=e.skip,r={referrer:(0,o.v9)((function(e){return e.navigation.referrer})),sk:(0,a.G1)(),source:(0,a.PM)()},d=(0,l.mr)({params:n||{}})||"";return(0,t.a)(m,{variables:{postId:d,postMeteringOptions:r},ssr:!1,skip:i})}},98598:(e,n,i)=>{"use strict";i.d(n,{g:()=>r});var t=i(319),a=i.n(t),o=i(84683),l=i(19308),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionTooltip_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"subscriberCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}}]}}].concat(a()(o.d.definitions),a()(l.I.definitions))}},32931:(e,n,i)=>{"use strict";i.d(n,{j:()=>w});var t=i(63038),a=i.n(t),o=i(18446),l=i.n(o),r=i(67294),d=i(6443),s=i(18733),c=i(77355),m=i(30020),u=i(21755),p=i(31889),k=i(14646),v=i(77241),g=i(17583),f=i(6280),S=i(3150),N=function(e){return{position:"sticky",opacity:e?1:0,visibility:e?"visibile":"hidden",display:"flex",justifyContent:"center",transition:"opacity 300ms",zIndex:v.ZP.selectionMenu}},h={bottom:"16px"},y=function(e){var n=e.margin,i=void 0===n?"0 16px":n;return r.createElement(c.x,{margin:i,height:"12px",borderRight:"BASE_LIGHTER"})},b=(0,r.memo)((function(e){var n=e.multiVoteButton,i=e.responsesButton,t=e.menuActionsButton,a=e.saveButton,o=e.allowResponses,u=(0,d.H)().value,k=(0,S.q)(),v=o||k,g=(0,p.F)(),f=(0,s.Uo)().baseTheme,N=(0,r.useMemo)((function(){return g.backgroundColor!==f.backgroundColor||!l()(g.baseColor.background,f.baseColor.background)}),[g,f]);return r.createElement(c.x,{display:"flex",backgroundColor:"BACKGROUND",alignItems:"center",borderRadius:"20px",border:N?"BASE_LIGHTER":"NONE",padding:k?"0 24px":"0 14px 0 16px",height:"40px",boxShadow:"0px 2px 10px 0px rgba(0, 0, 0, 0.1)"},n,v&&r.createElement(c.x,{marginLeft:k?"32px":"0",marginRight:k&&null!=u&&u.id?"32px":"0",display:"flex",flexDirection:"row",alignItems:"center"},!k&&r.createElement(y,null),i),(null==u?void 0:u.id)&&r.createElement(r.Fragment,null,!k&&r.createElement(y,{margin:"0 12px 0 16px"}),k&&a?r.createElement(r.Fragment,null,a):r.createElement(m._,{tooltipText:"More",targetDistance:10},t)))})),F=function(e){var n=e.children,i=(0,k.I)(),t=(0,f.$)(!0),a=t.dockRef,o=t.markerRef,l=t.isStuck;return r.createElement(r.Fragment,null,r.createElement("div",{ref:o}),r.createElement("div",{ref:a,className:i([N(l),h])},n))},E=function(e){var n,i=e.children,t=(0,k.I)(),o=(0,r.useRef)(),l=(0,r.useState)(0),d=a()(l,2),s=d[0],c=d[1],m=(0,r.useCallback)((function(e){c((function(n){return Math.max(Math.min(n+e,56),0)}))}),[c]),u=(0,r.useCallback)((function(){var e,n=null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect().y;window.scrollY>0&&o.current&&n&&m(o.current-n),o.current=n}),[m]),p=(0,f.$)(!0,u),v=p.dockRef,g=p.markerRef,S=p.isStuck;return r.createElement(r.Fragment,null,r.createElement("div",{ref:g}),r.createElement("div",{ref:v,className:t([N(S),("16px",n=s,{bottom:"16px","> div":{transform:"translateY(".concat(n,"px)")}})])},i))},w=function(e){var n=(0,g.s)(),i=!n||n===u.j.xl,t=(0,S.q)();return i&&!t?r.createElement(F,null,r.createElement(b,e)):r.createElement(E,null,r.createElement(b,e))}},6280:(e,n,i)=>{"use strict";i.d(n,{$:()=>r});var t=i(63038),a=i.n(t),o=i(67294),l=i(34135),r=function(e,n){var i=(0,o.useRef)(null),t=(0,o.useRef)(null),r=(0,o.useState)(!0),d=a()(r,2),s=d[0],c=d[1];return(0,o.useEffect)((function(){var a=function(){var e,a,o=null===(e=i.current)||void 0===e?void 0:e.getBoundingClientRect().y,l=null===(a=t.current)||void 0===a?void 0:a.getBoundingClientRect().y;o&&l&&c(Boolean(l-o)),null==n||n()};if(a(),e)return l.V6.on("scroll",a),function(){l.V6.off("scroll",a)}}),[e]),{isStuck:e&&s,dockRef:i,markerRef:t}}},60672:(e,n,i)=>{"use strict";i.d(n,{e:()=>u});var t=i(67294),a=i(27517),o=i(18702),l=i(25550),r=i(6443),d=i(98067),s=i(77280),c=i(43487),m=i(55765),u=function(e){var n=e.data,i=void 0===n?{}:n,u=e.isBlocked,p=void 0!==u&&u,k=e.loading,v=e.show,g=i.canonicalUrl,f=i.collectionViewerEdge,S=i.creatorViewerEdge,N=i.meteringInfo,h=i.pageType,y=i.post,b=i.profileName,F=i.profilePhoto,E=i.profileUsername,w=i.topicViewerEdge,x=(0,a.I0)(),_=(0,l.r)(),P=_.loading,C=_.viewerId,I=(0,m.P)(),T=I.loading,O=I.inAppBrowser,D=(0,r.H)(),R=D.loading,A=D.value,M=(0,c.v9)((function(e){return e.navigation.referrer})),V=(0,s.PM)();(0,t.useEffect)((function(){if(!(k||R||P||!C||T)){var e=(0,o.RD)({collectionViewerEdge:f,creatorViewerEdge:S,currentUserId:C,inAppBrowser:O,meteringInfo:N,page_type:h,post:y,profile_name:b,profile_photo:F,profile_username:E,referrer:M,referrerSource:V,viewer:A,topicViewerEdge:w});return g&&(e.data.$canonical_url=g),(0,o.Pu)(e),x((0,d.aj)(e)),v&&(x((0,d.QZ)()),x((0,d.Dl)(p))),function(){x((0,d.Uo)())}}}),[k,R,P,C,T])}},24176:(e,n,i)=>{"use strict";i.d(n,{G:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MastodonVerificationLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"linkedAccounts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mastodon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}},90732:(e,n,i)=>{"use strict";i.d(n,{$:()=>l});var t=i(67294),a=i(77355),o=i(50458),l=function(e){var n,i,l=e.user,r=(0,o.eF)(),d=null===(n=l.linkedAccounts)||void 0===n||null===(i=n.mastodon)||void 0===i?void 0:i.username;return d?t.createElement(a.x,{display:"none"},t.createElement("a",{rel:"me",href:"".concat(r,"/@").concat(d)},"Mastodon")):null}},8459:(e,n,i)=>{"use strict";i.d(n,{T:()=>d});var t=i(67294),a=i(6280),o=i(77355),l=i(96370),r=i(29746),d=function(e){var n=e.isDockingEnabled,i=void 0!==n&&n,d=e.undockedBackgroundColor,s=e.maxWidthSize,c=void 0===s?"inset":s,m=e.children,u=(0,a.$)(i),p=u.dockRef,k=u.markerRef,v=u.isStuck;return t.createElement(t.Fragment,null,t.createElement(o.x,{ref:k}),t.createElement(o.x,{tag:"footer",ref:p,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,r.a)(52),maxHeight:(0,r.a)(52),zIndex:"1",position:i?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:i?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:v?"BACKGROUND":d,borderTop:v?{xs:"NONE",sm:"NONE",md:"BASE_LIGHTER",lg:"BASE_LIGHTER",xl:"BASE_LIGHTER"}:"NONE",marginBottom:{xs:"10px",sm:"10px",md:"26px",lg:"26px",xl:"26px"}},t.createElement(o.x,{flexGrow:"1"},t.createElement(l.P,{size:c},m))))}},39547:(e,n,i)=>{"use strict";i.d(n,{p:()=>h});var t=i(64718),a=i(67294),o=i(32931),l=i(70929),r=i(56804),d=i(75761),s=i(21232),c=i(21755),m=i(75221),u=i(17583),p=i(319),k=i.n(p),v=i(10654),g=i(51277),f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FloatingPostActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}}]}}].concat(k()(v.x.definitions),k()(g.v.definitions))},S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FloatingPostActionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FloatingPostActions_post"}}]}}]}}].concat(k()(f.definitions))},N=i(91743),h=function(e){var n,i,p=e.post,k=a.useContext(s.f).openSidebar,v=(0,u.s)(),g=!v||v===c.j.xl,f=(0,t.a)(S,{variables:{postId:p.id},ssr:!1}),h=f.data,y=f.loading,b=f.error;return y?null:(i=b||null==h||!h.post?p:h.post,a.createElement(o.j,{multiVoteButton:a.createElement(r.S,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,shouldShowResponsiveLabelText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S"}),responsesButton:a.createElement(d.h,{svgSize:"S",responsesCountScale:"S",trackingData:{postId:i.id},responsesCount:(null===(n=i.postResponses)||void 0===n?void 0:n.count)||null,isLimitedState:i.isLimitedState,handleClick:k,countStylesOverride:{marginLeft:"4px"},allowResponses:i.allowResponses,disabledTooltipText:"Responses hidden"}),menuActionsButton:a.createElement(N.t,{post:i,hideAddToList:!1,popoverPositioningStrategy:g?"fixed":"absolute",hideOnScroll:!g}),saveButton:a.createElement(l.o,{kind:m.ej.POST,target:i}),allowResponses:!!i.allowResponses}))}},1279:(e,n,i)=>{"use strict";i.d(n,{m:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherDescription_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bio"}}]}}]}}]}},13085:(e,n,i)=>{"use strict";i.d(n,{b:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowingCount_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"socialStats"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followingCount"}},{kind:"Field",name:{kind:"Name",value:"collectionFollowingCount"}}]}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}},82405:(e,n,i)=>{"use strict";i.d(n,{F:()=>F});var t=i(63038),a=i.n(t),o=i(21919),l=i(67294),r=i(5977),d=i(77520),s=i(20297),c=i(25550),m=i(25267),u=i(67701),p=i(26350),k=i(50563),v=i(93310),g=i(77355),f=i(47230),S=i(18627),N=i(66411),h=i(92661),y=i(43487),b=i(50458),F=function(e){var n,i=e.buttonSize,t=e.buttonStyleFn,b=e.collection,F=e.post,w=e.simpleLink,x=e.susiEntry,_=void 0===x?"follow_card":x,P=e.preventParentClick,C=(0,y.v9)((function(e){return e.config.authDomain})),I=(0,c.r)().viewerId,T=(0,S.Av)(),O=(0,N.pK)(),D=(0,r.TH)(),R=(0,h.$B)(D.pathname),A=null==R||null===(n=R.route)||void 0===n?void 0:n.name,M=(0,u.gY)(b),V=M.viewerEdge,B=M.loading,L=function(e,n){var i=(0,o.D)(s.e),t=a()(i,1)[0];return l.useCallback((function(){return t({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(i){i.modify({id:"User:".concat(n),fields:{missionControl:(0,k.im)("followedCollections",!0),followingCollectionConnection:(0,k.Hc)(e.id)}})}})}),[e.id])}(b,I),j=function(e,n){var i=(0,o.D)(s.X),t=a()(i,1)[0];return l.useCallback((function(){return t({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,k.im)("followedCollections",!1)}})}})}),[e.id])}(b,I),U=l.useCallback((function(e){P&&e.preventDefault(),T.event("collection.followed",{collectionId:b.id,followSource:O}),L()}),[b,P,O,T]),H=l.useCallback((function(e){P&&e.preventDefault(),T.event("collection.unfollowed",{collectionId:b.id,followSource:O}),j()}),[P,O,T]),W=!(null==V||!V.isFollowing),G=t?t(!!W):W?"OBVIOUS":"STRONG";return w?l.createElement(v.r,{onClick:W?H:U},l.createElement(g.x,{display:"flex",flexDirection:"row"},W?"Unfollow publication":"Follow publication")):l.createElement(m.I,null,(function(e){return e?l.createElement(f.z,{size:i,onClick:W?H:U,buttonStyle:G,loading:B},W?"Following":"Follow"):l.createElement(p.R,{collection:b,buttonStyle:W?"OBVIOUS":"STRONG",isButton:!0,buttonSize:"REGULAR",operation:"register",actionUrl:E(C,b,F)||"",susiEntry:_,pageSource:(0,d.x)(A,"register")},W?"Following":"Follow")}))},E=function(e,n,i){return n.slug&&(i&&i.id?(0,b.TA)(e,n.slug,i.id):(0,b.Ll)(e,n.slug))}},20512:(e,n,i)=>{"use strict";i.d(n,{Y4:()=>r,NJ:()=>d,lc:()=>s});var t=i(59713),a=i.n(t),o=i(46696);function l(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function r(e){var n=e.miroId,i=e.originalWidth,t=e.originalHeight,a=e.focusPercentX,l=e.focusPercentY,r=e.croppedWidth;if(!n)return null;var d=(0,o.vz)({miroId:n,aspectRatio:16/9,croppedWidth:r,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:l}),s=(0,o.vz)({miroId:n,aspectRatio:4/3,croppedWidth:r,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:l}),c=(0,o.vz)({miroId:n,aspectRatio:1,croppedWidth:r,originalWidth:i,originalHeight:t,focusPercentX:a,focusPercentY:l}),m=new Set([d,s,c]);return Array.from(m)}function d(e){return function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?l(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({"@type":"ImageObject"},e)}function s(e){var n=e.id,i=e.originalWidth,t=e.originalHeight;if(!n||!i||!t)return null;var a=Math.min(t,60),l=a/t,r=Math.floor(i*l);return d({width:r,height:a,url:(0,o.W6)({miroId:n,width:r,freezeGifs:!0,strategy:o._S.Resample})})}},90635:(e,n,i)=>{"use strict";i.d(n,{c:()=>Ie});var t=i(67294),a=i(27517),o=i(62367),l=i(77355),r=i(31889),d=i(14804),s=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,c=function(e){var n,i,a=e.children,o=e.margin,c=(0,r.F)();return t.createElement(t.Fragment,null,t.createElement(l.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=c.backgroundColor,i=n.match(s),i?"rgba(".concat(i[1],", ").concat(i[2],", ").concat(i[3],", 0)"):(0,d.l9)(0)),", ").concat(c.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),t.createElement(l.x,{backgroundColor:"BACKGROUND"},t.createElement(l.x,{margin:"auto",maxWidth:"760px",sm:{margin:null!=o?o:"0 24px 0"}},a)))},m=i(6443),u=i(43822),p=i(18627),k=i(66411),v=i(90924),g=i(43487),f=i(78870),S=i(50458),N=function(e){var n=e.postId,i=e.align,a=e.entityId,o=e.id,r=e.buttonStyle,d=void 0===r?"STRONG":r,s=e.onClick,c=(0,m.H)().value,N=(0,p.Av)(),h=(0,g.v9)((function(e){return e.config.authDomain})),y=null==c?void 0:c.hasPastMemberships,b=(0,f.Rk)((0,S.c5)(h),{subscribeToUserId:a||"",susiEntry:"post_paywall"}),F=t.useCallback((function(){N.event("paywall.upgradeClicked",{postId:n,userId:null==c?void 0:c.id}),null==s||s()}),[n,null==c?void 0:c.id]),E=y?"182px":"104px",w=y?"Resume membership":"Upgrade";return t.createElement(k.cW,{source:{dimension:"post_limit",name:"upgrade_membership",postId:n}},t.createElement(v.M,null,t.createElement(l.x,{display:"flex",textAlign:"center",justifyContent:"left"===i?"flex-start":"center"},t.createElement(u.a,{isButton:!0,onClick:F,buttonStyle:d,width:E,redirectUrl:b,id:o},w))))},h=i(49962),y=i(25735),b=i(14818),F=i(54945),E=i(87691),w=i(14646),x=i(92661);function _(){return(_=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var P=t.createElement("path",{d:"M1 6.25l4 4.5 9-9.5",stroke:"currentColor",strokeWidth:1.5});const C=function(e){return t.createElement("svg",_({width:15,height:12,viewBox:"0 0 15 12",fill:"none"},e),P)};var I=i(17583),T=function(e){return{flexShrink:0,marginRight:"12px",marginTop:"4px","& path":{stroke:e.baseColor.fill.normal}}},O=function(e){var n=e.headerText,i=e.reasonsToUpgrade,a=e.post,r=(0,w.I)(),d=(0,I.s)(),s="xs"===d||"sm"===d,m=(0,t.useMemo)((function(){var e,n=(null===(e=a.viewerEdge.paywall)||void 0===e?void 0:e.creatorSpotlights)||[];return s&&n.length>6?n.filter((function(e){return!e.hideOnSmallScreen})):n}),[s,a.viewerEdge.paywall]),u=(0,o.k)(),p=(0,t.useCallback)((function(){null==u||u.flushLocalAttributes()}),[u]),k=!!(0,y.VB)({name:"enable_plan_options_on_paywall",placeholder:!1}),v=(0,x.qt)("ShowPay",{}),g=t.useCallback((function(e){if(e){var n=(0,f.Rk)(v,{membershipType:e});window.location.assign(n)}}),[]);return t.createElement(c,{margin:"0 -24px"},t.createElement(l.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},t.createElement(l.x,{display:"flex",flexDirection:"column",padding:"32px",marginTop:"32px",backgroundColor:"BASE_LIGHT",sm:{padding:"28px 33px 32px"},textAlign:"left",borderRadius:"4px",maxWidth:"100%"},t.createElement(F.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n),t.createElement(l.x,{margin:"16px 0 32px"},i.map((function(e,n){return t.createElement(l.x,{display:"flex",alignItems:"flex-start",key:"reason-".concat(n),padding:"3px 0"},t.createElement(C,{className:r(T)}),t.createElement(E.F,{scale:"M",key:e,color:"DARKER"},e))}))),t.createElement(l.x,{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},m.map((function(e){return t.createElement(l.x,{key:e.name,display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",flexShrink:"1",flexBasis:s?"33%":"25%",marginBottom:"32px","data-testid":"creator-spotlight"},t.createElement(b.z,{alt:e.name,miroId:e.miroId,diameter:64}),t.createElement(l.x,{marginTop:"8px",textAlign:"center"},t.createElement(E.F,{scale:s?"S":"M",color:"DARKER"},e.name),t.createElement(E.F,{scale:"XS"},e.title),e.company&&t.createElement(E.F,{scale:"XS"},e.company)))}))),k?t.createElement(h.B,{membershipType:void 0,isTrial:!1,onChange:g,excludeMargin:!0}):t.createElement(N,{id:"paywallButton-programming",postId:a.id,align:"center",buttonStyle:"STRONG",onClick:p}))))},D=i(25550),R=i(63038),A=i.n(R),M=i(28655),V=i.n(M),B=i(92471),L=i(32493),j=i(36405),U=i(93717),H=i(18839),W=i(80872);function G(){var e=V()(["\n  mutation SendAcctAuthEmailByUserId(\n    $userId: String!\n    $redirect: String\n    $fullName: String\n    $captchaValue: String\n  ) {\n    sendAcctAuthEmailByUserId(\n      userId: $userId\n      redirect: $redirect\n      fullName: $fullName\n      captchaValue: $captchaValue\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return G=function(){return e},e}var z=(0,B.Ps)(G()),Y=function(e){var n=e.actionUrl,i=e.children,a=e.onSuccess,o=e.token,l=e.userId,r=(0,p.Av)(),d=!!(0,j.P5)("skip_sign_in_recaptcha"),s=t.useState(!1),c=A()(s,2),m=c[0],u=c[1],v=(0,g.v9)((function(e){return e.navigation.currentLocation})),f=function(){u(!1)},S=(0,k.pK)(),N=(0,k.hp)(),h=n&&o?(0,H.hQ)(v,S,N,n,o):(0,H.hQ)(v,S,N),y=(0,D.r)(),b=y.loading,F=y.error,E=y.viewerId;return b||F?null:t.createElement(L.m,{mutation:z,onCompleted:function(e){switch(e.sendAcctAuthEmailByUserId.__typename){case"SusiMethod":r.event("site.loginLinkSent",{}),a&&a();break;case"FailedChallenge":r.event("site.loginByEmailCaptchaFailure",{}),u(!1);break;case"BadRequest":case"NotFound":default:f()}},onError:f},(function(e){var n=function(n){(0,W.Zs)(!0,E,l,"Email",!1);var i="medium";r.event("susi.methodClicked",{entryPoint:N,operation:"login",susiMethod:i.toLowerCase(),alternateUserSuggestionShown:!0,alternateUserSuggestionAccountType:i.toLowerCase(),alternateUserSuggestionTargetUserId:l,alternateUserSuggestionSourceUserId:E}),e({variables:{userId:l,redirect:h,captchaValue:n}})};return t.createElement(t.Fragment,null,!d&&t.createElement(U.k,{callback:n,shouldExecuteRecaptcha:m}),i({handleSubmit:function(){return d?n(null):u(!0)}}))}))},q=i(69862),Z=i(43705),$=i(2959),Q=i(40980),X=function(e){var n=e.actionUrl,i=e.token,a=e.userSocialLogins,o={actionUrl:n||"",operation:"login",token:i||"",targetUserId:a.userId,alternateUserSuggestion:!0};return t.createElement(Q.$,{eventData:{operation:o.operation}},a.google?t.createElement(Z.x,o):a.facebook?t.createElement(q.q,o):a.twitter?t.createElement($.G,o):t.createElement(t.Fragment,null))},K=i(59713),J=i.n(K),ee=i(93310),ne=i(78285);function ie(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}var te=function(e){var n=e.declineSuggestedAccount,i=e.isSocial,o=(0,g.v9)((function(e){return e.navigation.hasRenderedAlternateUserBanner})),l=(0,k.hp)(),r=(0,a.I0)(),d=(0,m.H)(),s=d.loading,c=d.error,u=d.value;if(s||c)return t.createElement(t.Fragment,null);var p=function(e){return e?t.createElement(ee.r,{onClick:function(){return v("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"See all login options"):t.createElement(t.Fragment,null,"Not you?"," ",t.createElement(ee.r,{onClick:function(){return v("SIGNIN_OPTIONS")},linkStyle:"OBVIOUS"},"Sign in")," or ",t.createElement(ee.r,{onClick:function(){return v("SIGNUP_OPTIONS")},linkStyle:"OBVIOUS"},"create an account"))},v=function(e){var i="SIGNIN_OPTIONS"===e?"login":"register";n(),r((0,ne.Pc)(function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(i),!0).forEach((function(n){J()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ie(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({operation:i,step:e},!!l&&{susiEntry:l})))};return o?p(u):u?t.createElement(ee.r,{onClick:function(){return n()}},"Not me"):p(i)},ae=i(54558),oe=i(47230),le=i(97171),re=function(e,n,i){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{withHowToPrefix:!0},a=n?(0,le.J)(n):null;a=a&&a.length<=13?a:null;var o=i?"".concat(a,", read more from ").concat(i," — and everyone else on ").concat(e,"."):"".concat(a,", here's how to read this story — and everything else on ").concat(e,"."),l=t.withHowToPrefix?"How to read":"Read",r=i?"".concat(l," this story from ").concat(i," — and everything else on ").concat(e,"."):"".concat(l," this story — and everything else on ").concat(e,".");return a?o:r},de=function(e){var n=e.declineSuggestedAccount,i=e.userSocialLogins,o=(0,a.I0)();return t.createElement(k.cW,{source:{susiEntry:"post_paywall"},extendSource:!0},t.createElement(l.x,{display:"flex",sm:{flexDirection:"column"}},t.createElement(l.x,{display:"flex",flexDirection:"row",justifyContent:"center"},i.facebook||i.google||i.twitter?t.createElement(X,{userSocialLogins:i}):t.createElement(Y,{onSuccess:function(){return o((0,ne.Pc)({step:"CHECK_YOUR_INBOX",operation:"login",susiEntry:"post_paywall"}))},userId:i.userId},(function(e){var n=e.handleSubmit;return t.createElement(oe.z,{buttonStyle:"SOCIAL",size:"REGULAR",onClick:n},"Send login link")})))),n&&t.createElement(l.x,{marginTop:"10px",marginRight:"5px",sm:{marginTop:"20px"},display:"flex",justifyContent:"center",flexDirection:"column"},t.createElement(E.F,{scale:"M"},t.createElement(te,{declineSuggestedAccount:n,isSocial:!!i&&!!(i.facebook||i.google||i.twitter)}))))},se=function(e){var n=e.declineSuggestedAccount,i=e.userSocialLogins,a=e.suggestedAccountEventData,o=e.showSuggestedAccount,r=e.postId;return t.createElement(k.cW,{source:{dimension:"post_limit_suggestion",name:"upgrade_membership",postId:r}},t.createElement(v.M,{eventData:a},t.createElement(l.x,{display:"inline-block",textAlign:"center"},t.createElement(de,{declineSuggestedAccount:n,showSuggestedAccount:o,userSocialLogins:i}),t.createElement(l.x,{display:"flex",flexDirection:"row",marginTop:"10px",sm:{justifyContent:"center"}},t.createElement(E.F,{scale:"L"},t.createElement(u.a,{eventData:a,linkStyle:"OBVIOUS"},"Learn more about membership"))))))},ce=function(e){var n=e.post,i=e.excludePadding,a=void 0!==i&&i,o=(0,g.v9)((function(e){return e.config.productName})),r=(0,m.H)().value,d=(0,D.r)().viewerId,s=n.creator&&n.creator.id,u=(0,y.VB)({name:"enable_members_only_audio",placeholder:!1}),p=(0,I.s)(),k="xs"===p||"sm"===p,v=(0,x.qt)("ShowPay",{}),S=t.useCallback((function(e){if(e){var n=(0,f.Rk)(v,{membershipType:e});window.location.assign(n)}}),[]),b=!!(0,y.VB)({name:"enable_plan_options_on_paywall",placeholder:!1});return t.createElement(c,{margin:"0 -24px"},t.createElement(ae.o,null,(function(e){var i,c=e.loading,m=e.showSuggestedAccount,p=e.declineSuggestedAccount,v=e.userSocialLogins;if(c)return t.createElement(t.Fragment,null);m&&(i={alternateUserSuggestionShown:m,alternateUserSuggestionAccountType:(0,le.S)(v),alternateUserSuggestionTargetUserId:!!v&&v.userId,alternateUserSuggestionSourceUserId:d});var g=b?"0px":"8px";return t.createElement(l.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},t.createElement(l.x,{display:"flex",flexDirection:"column",padding:a?"48px 0 0":"32px",sm:{padding:b?"24px":"28px 16px 32px",textAlign:"center"},backgroundColor:b?"BASE_LIGHT":"NONE"},t.createElement(F.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},m?"Switch to your member account for unlimited reading.":t.createElement(l.x,{textAlign:"left",sm:{marginBottom:"5px",textAlign:"center"}},re(o,r&&r.name,n.creator&&n.creator.name))),t.createElement(E.F,{scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},color:"DARKER",tag:"div"},!m&&t.createElement(t.Fragment,null,t.createElement(l.x,{marginTop:"16px",marginBottom:"32px",textAlign:"left",sm:{display:"inline-block",textAlign:"center"}},u?"You’ve read all your free member-only stories. Become a member for\n                unlimited access to every story on ".concat(o," and to support the\n                voices you want to hear more from. As a member, you can also listen to\n                stories anytime, anywhere."):"You’ve read all your free member-only stories, become a member to get unlimited access. Your membership fee supports the voices you want to hear more from."),b?t.createElement(h.B,{membershipType:void 0,isTrial:!1,onChange:S,excludeMargin:!0}):t.createElement(N,{postId:n.id,align:k?"center":"left",entityId:s})),t.createElement(l.x,{marginTop:m?"28px":g,marginBottom:b?"0px":"28px",paddingRight:"6px",paddingLeft:"6px",sm:{display:m?"inline-block":"none"}},function(e,n,i){if(n.showSuggestedAccount&&e){var a=e.isMember,o=e.redactedEmailAddress;return t.createElement(t.Fragment,null,"Looks like you're coming from the ",a&&"member ","account"," ",t.createElement("b",null,o)," but you’re signed in as ",t.createElement("b",null,null==i?void 0:i.email),". Switch to your",a?" member account for unlimited access":" account",".")}return null}(v,{showSuggestedAccount:m},r))),!!m&&v&&t.createElement(se,{declineSuggestedAccount:p,userSocialLogins:v,suggestedAccountEventData:i,showSuggestedAccount:m,postId:n.id})))})))},me=function(e){var n,i=e.post,a=(0,g.v9)((function(e){return e.config.productName})),o=(0,m.H)().value,l=re(a,null==o?void 0:o.name,null===(n=i.creator)||void 0===n?void 0:n.name,{withHowToPrefix:!1});return t.createElement(O,{headerText:l,reasonsToUpgrade:["Dive deeper into the topics that matter to you","Get in-depth articles answering thousands of questions","Achieve your personal and professional goals"],post:i})},ue=function(e){switch(e){case"javascript":return"JavaScript";case"ios-development":return"iOS development";case"android-development":return"Android development";default:return e.replace("-"," ").toLowerCase()}},pe=function(e){var n,i=e.post,a=(0,g.v9)((function(e){return e.config.productName})),o=(0,m.H)().value,l=null===(n=i.primaryTopic)||void 0===n?void 0:n.slug,r=function(e){var n=e?ue(e):"technical";return["Become an expert in your areas of interest","Get in-depth articles answering thousands of ".concat(n," questions"),"Grow your career or build a new one"]}(l),d=function(e,n,i){var t=n?(0,le.J)(n):null;if(t=t&&t.length<=13?t:null,i){var a=ue(i);return t?"".concat(t,", get unlimited access to ").concat(a," stories from industry leaders on ").concat(e,"."):"Get unlimited access to ".concat(a," stories from industry leaders on ").concat(e,".")}return t?"".concat(t,", get unlimited access to stories from industry leaders on ").concat(e,"."):"Get unlimited access to stories from industry leaders on ".concat(e,".")}(a,null==o?void 0:o.name,l);return t.createElement(O,{headerText:d,reasonsToUpgrade:r,post:i})},ke=i(75221),ve=function(e){var n,i=e.post,a=e.excludePadding,o=void 0!==a&&a,l=(0,m.H)().value,r=(0,p.Av)(),d=(0,y.VB)({name:"enable_aspirational_paywall",placeholder:!1}),s=null===(n=i.viewerEdge.paywall)||void 0===n?void 0:n.type,c=s===ke.zB.ASPIRATIONAL;(0,t.useEffect)((function(){r.event("paywall.viewed",{userId:null==l?void 0:l.id}),r.event("experiment.eligible",{experimentId:"7cf742aaa3c8"})}),[]),(0,t.useEffect)((function(){c&&r.event("experiment.eligible",{experimentId:"4dbca4ebaca8"})}),[c]);var u=t.createElement(ce,{post:i,excludePadding:o});switch(s){case ke.zB.PROGRAMMING:return t.createElement(pe,{post:i});case ke.zB.ASPIRATIONAL:return d?t.createElement(me,{post:i}):u;default:return u}},ge=i(39610),fe=i(26350),Se=i(28451),Ne=i(9935),he=i(22923),ye=i(54935),be=i(32442),Fe=function(e){var n=e.meterCount,i=e.postId,a=e.susiEntry,o="register",r={meterCount:n,operation:o,postId:i},d=(0,ye.j)().openModal;return t.createElement(l.x,{display:"flex",flexDirection:"column",textAlign:"center",margin:"62px 0 52px",sm:{flexDirection:"column",margin:"40px 0"}},t.createElement(Q.$,{eventData:r},t.createElement(Z.x,{operation:o})),t.createElement(l.x,{marginTop:"10px",sm:{marginTop:"12px"}},t.createElement(Q.$,{eventData:r},t.createElement(q.q,{operation:o}))),t.createElement(l.x,{marginTop:"10px",sm:{marginTop:"12px"}},t.createElement(Q.$,{eventData:r},t.createElement(be.R,{goToEmailAuthStep:function(){d({step:"ENTER_EMAIL",susiEntry:a,operation:o})},operation:o}))))},Ee="post_regwall",we=function(e){var n=e.meteringInfo,i=e.post,a=e.onDismiss,o=(0,p.Av)(),r="LOCKED_POST_SOURCE_SYNDICATED"===i.lockedSource,d=(0,g.v9)((function(e){return e.config.productName})),s=null==n?void 0:n.postIds.length,m=(0,D.r)().viewerId,u=(0,he._)(i.id,m),v=(0,g.v9)((function(e){return e.navigation.susiEmail}));(0,t.useEffect)((function(){o.event("meter.viewed",{meterCount:s,postId:i.id,uiType:r?Se.j.SyndicatedRegwall:Se.j.RegWall})}),[]),(0,t.useEffect)((function(){if(s&&u)switch(s){case 2:o.event("dismissible.regwall2.viewed",{postId:i.id});break;case 3:o.event("dismissible.regwall3.viewed",{postId:i.id})}}),[s,u,i.id]);var f=(0,t.useCallback)((function(){a(),o.event("regwall.dismissed",{postId:i.id})}),[a,i.id]);return t.createElement(k.cW,{source:{postId:i.id,susiEntry:Ee}},t.createElement(c,null,t.createElement(l.x,{display:"flex",textAlign:"center",justifyContent:"center",sm:{textAlign:"center"},flexDirection:"column"},u&&t.createElement(l.x,{display:"flex",justifyContent:"flex-end",position:"relative"},t.createElement(Ne.P,{size:"LARGE",onClick:f})),t.createElement(l.x,{padding:"48px 56px",sm:{padding:"28px 16px 48px"}},t.createElement(F.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},v?"Check your inbox.":t.createElement(t.Fragment,null,t.createElement(l.x,{display:"none",sm:{display:"block"}},u?"Sign up for ".concat(d):"To keep reading this story, get the free app or log in."),t.createElement(l.x,{display:"block",sm:{display:"none"}},u?"Sign up for ".concat(d):"Read the rest of this story with a free account."))),t.createElement(E.F,{color:"DARKER",scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},tag:"div"},v?t.createElement(t.Fragment,null,t.createElement(l.x,{paddingTop:"12px",paddingBottom:"56px"},"Click the link we sent to ",v," to complete your account setup and continue reading this story."),t.createElement(E.F,{color:"LIGHTER",scale:"M"},"Didn't get the link?"," ",t.createElement(fe.R,{linkStyle:"OBVIOUS",operation:"register",post:i,susiEntry:Ee},"Try again"))):t.createElement(t.Fragment,null,u&&t.createElement(l.x,{paddingTop:"32px"},"With a free account you can discover more writing you'll love."),t.createElement(l.x,{display:"none",sm:{display:"block"}},t.createElement(l.x,{margin:"42px 0"},t.createElement(ge.a,{isButton:!0,postId:i.id,appEntry:"regwall",copy:"Read in app"})),t.createElement(l.x,{marginBottom:"-20px"},"Or, continue in mobile web")),t.createElement(Fe,{meterCount:null==n?void 0:n.postIds.length,postId:i.id,susiEntry:Ee}),"Already have an account?"," ",t.createElement(fe.R,{linkStyle:"OBVIOUS",operation:"login",post:i,susiEntry:Ee},"Sign in")))))))},xe=i(61998),_e=i(49608),Pe=i(19535),Ce=i(21927),Ie=function(e){var n=e.post,i=e.meteringInfo,o=e.excludePadding,l=n.id,r=n.content.isLockedPreviewOnly,d=(0,p.Av)(),s=(0,D.r)(),c=s.viewerId,m=s.loading,u=(0,a.I0)(),k=(0,_e.Q)(null!=c?c:""),v=null==i?void 0:i.postIds,g=!(null==v||!v.includes(n.id)),f=1===(null==v?void 0:v.length),S=(0,Pe.n)(l,r,f).loading;(0,t.useEffect)((function(){k||!g||f||d.event("experiment.eligible",{experimentId:"18a77ab36d12"})}),[k,g,f]);var N=(0,t.useCallback)((function(){c&&((0,xe.S)(n.id,c),u((0,Ce.I)({postId:n.id,userId:c||"",shouldShow:!1})))}),[xe.S,n.id,u,Ce.I,c]);if(!S&&r&&i){if(k)return t.createElement(ve,{post:n,excludePadding:o});if(!m)return t.createElement(we,{post:n,meteringInfo:i,onDismiss:N})}return null}},99214:(e,n,i)=>{"use strict";i.d(n,{i:()=>k});var t=i(63038),a=i.n(t),o=i(28655),l=i.n(o),r=i(92471),d=i(21919),s=i(67294),c=i(6443);function m(){var e=l()(["\n  mutation AddCollaboratorMutation($postId: ID!) {\n    addCollaborator(postId: $postId)\n  }\n"]);return m=function(){return e},e}function u(){var e=l()(["\n  fragment AddCollaborator_post on Post {\n    isPublished\n    id\n  }\n"]);return u=function(){return e},e}(0,r.Ps)(u());var p=(0,r.Ps)(m()),k=function(e){var n=(0,c.H)().value,i=(0,d.D)(p,{variables:{postId:e.id}}),t=a()(i,2),o=t[0],l=t[1].called;s.useEffect((function(){e.isPublished||null==n||!n.id||l||o()}),[n])}},41422:(e,n,i)=>{"use strict";i.d(n,{L:()=>r});var t=i(319),a=i.n(t),o=i(95472),l=i(68216),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"collectionDefaultBackgroundTheme_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}]}}].concat(a()(o.Gi.definitions),a()(l.nf.definitions))}},75865:(e,n,i)=>{"use strict";i.d(n,{WZ:()=>d,kD:()=>s,Rf:()=>c});var t=i(319),a=i.n(t),o=i(13156),l=i(41422),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"promoHeadline"}},{kind:"Field",name:{kind:"Name",value:"promoBody"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeButton_newsletterV3"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3SubscribeByEmail_newsletterV3"}}]}}].concat(a()(o.B.definitions),a()(l.L.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isUser"}}]}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(a()(r.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_newsletterV3"}}]}}]}}].concat(a()(r.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3Promo_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_User"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3Promo_publisher_Collection"}}]}}]}}].concat(a()(d.definitions),a()(s.definitions))}},6177:(e,n,i)=>{"use strict";i.d(n,{F:()=>a,b:()=>o});var t=i(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]},o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"useShowAuthorNewsletterV3Promo_user"}}]}}]}}].concat(i.n(t)()(a.definitions))}},75990:(e,n,i)=>{"use strict";i.d(n,{P:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useShowCollectionNewsletterV3Promo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"showPromo"}}]}}]}}]}},49962:(e,n,i)=>{"use strict";i.d(n,{B:()=>c});var t=i(67294),a=i(66802),o=i(36405),l=i(77355),r=i(18627),d=i(98770),s=i(93661),c=function(e){var n=e.membershipType,i=e.isTrial,c=e.onChange,m=e.excludeMargin,u=void 0!==m&&m,p=(0,r.Av)(),k=(0,o.P5)("is_medium_staff"),v=(0,s.OS)({membershipType:s.FM.Monthly,isLongFormat:!0}),g=(0,s.OS)({membershipType:s.FM.Yearly,isLongFormat:!0}),f=(0,s.OS)({membershipType:s.FM.YearlyCrossout}),S=(0,s.OS)({membershipType:s.FM.YearlyPriceSaved}),N=(0,s.kr)({membershipType:s.FM.YearlyStaff}),h=(0,s.kr)({membershipType:s.FM.YearlyStaffPriceSaved}),y=(0,t.useCallback)((function(e){c(e),p.event("membershipPaymentPage.planSelected",{planType:e})}),[c,p]);return t.createElement(l.x,{marginTop:u?"0px":"48px",marginBottom:u?"0px":"40px",sm:{marginTop:u?"0px":"24px"},display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"}},k&&t.createElement(d.v,{label:"Staff",membershipType:s.FM.YearlyStaff,selected:s.FM.YearlyStaff===n,onChange:y,isTrial:i,price:(0,a.xG)({amount:N.amount,currency:N.currency,isLongFormat:!0}),term:"year",savings:(0,a.xG)({amount:h.amount,currency:h.currency,floatingDigits:[0,0]}),excludeMargin:!0}),t.createElement(d.v,{label:"Monthly",membershipType:s.FM.Monthly,selected:s.FM.Monthly===n,onChange:y,isTrial:i,price:v,term:"month",excludeMargin:!0}),t.createElement(d.v,{label:"Annual",membershipType:s.FM.Yearly,selected:s.FM.Yearly===n,onChange:y,isTrial:i,price:g,term:"year",savings:S,crossoutPrice:f,excludeMargin:!0}))}},98770:(e,n,i)=>{"use strict";i.d(n,{v:()=>v});var t=i(67294),a=i(77355),o=i(47230),l=i(20113),r=i(87691),d=i(14646),s=function(e,n){return n?{backgroundColor:e.brandColor.sage.light,color:e.accentColor.fill.normal}:void 0},c=function(e,n){return function(i){return{flex:1,display:"flex",flexDirection:"column",alignItems:"center",position:"relative",cursor:"pointer",padding:"24px",minHeight:"146px",boxShadow:"0 0 0 ".concat(e?2:1,"px ").concat(e?i.accentColor.fill.normal:i.baseColor.border.lighter),borderRadius:"3px",":hover":{boxShadow:"0 0 0 2px ".concat(i.accentColor.fill.normal)},":not(:last-child)":{marginRight:{xs:void 0,sm:void 0,md:"24px",lg:"24px",xl:"24px"},marginBottom:{xs:"32px",sm:"32px",md:n?"0px":"24px",lg:n?"0px":"24px",xl:n?"0px":"24px"}},"& button":s(i,e),"& button:hover":s(i,e)}}},m="17px",u={display:"block",position:"relative"},p={position:"absolute",top:0,right:0,left:0,width:m,height:m,margin:0,padding:0,opacity:0,cursor:"inherit",zIndex:1},k={textDecoration:"line-through",marginRight:"5px"},v=function(e){var n=e.onChange,i=e.selected,s=void 0!==i&&i,m=e.membershipType,v=e.label,g=e.price,f=e.term,S=e.isTrial,N=void 0!==S&&S,h=e.savings,y=e.crossoutPrice,b=e.excludeMargin,F=void 0!==b&&b,E=(0,d.I)(),w=(0,t.useCallback)((function(e){return n(e.target.value)}),[n]),x=(0,t.useCallback)((function(){return n(m)}),[n,m]);return t.createElement("label",{htmlFor:m,className:E(c(s,F))},t.createElement("div",{className:E(u)},t.createElement("input",{className:E(p),type:"radio",name:"membership-type",required:!0,id:m,value:m,onChange:w,checked:s,"data-testid":"".concat(m,"-radio-button")})),t.createElement(a.x,{flexGrow:"1",textAlign:"center",xs:{display:"flex",width:"100%",justifyContent:"space-between"},sm:{display:"flex",width:"100%",justifyContent:"space-between"}},t.createElement(l.X6,{scale:"S"},v),t.createElement(a.x,{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"24px",marginBottom:"24px",xs:{marginTop:"0",marginBottom:"12px",alignItems:"flex-end"},sm:{marginTop:"0",marginBottom:"12px",alignItems:"flex-end"}},N&&t.createElement(a.x,{marginBottom:"4px"},t.createElement(r.F,{scale:"S",color:"DARKER"},"1 month free, then")),t.createElement(r.F,{scale:"L",color:"DARKER"},y&&t.createElement(r.F,{scale:"L",color:"LIGHTER",tag:"span"},t.createElement("span",{className:E(k)},y)),g,"/",f),h&&t.createElement(a.x,{marginTop:"4px"},t.createElement(r.F,{scale:"M",color:"ACCENT"},"(save ",h,")")))),t.createElement(o.z,{buttonStyle:"STRONG",width:"100%",size:"LARGE",onClick:x,type:"button"},s?"Selected":"Select"))}},78656:(e,n,i)=>{"use strict";i.d(n,{E:()=>N});var t=i(59713),a=i.n(t),o=i(28655),l=i.n(o),r=i(8575),d=i(92471),s=i(67294),c=i(83447),m=i(90833),u=i(77280),p=i(43487),k=i(78870);function v(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function g(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?v(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function f(){var e=l()(["\n  fragment PostCanonicalizer_post on Post {\n    mediumUrl\n  }\n"]);return f=function(){return e},e}(0,d.Ps)(f());var S=["blog.coinbase.com","moody-pub.medium.fail"],N=function(e){var n=e.post.mediumUrl,i=e.matchedPath,t=e.children,a=(0,p.v9)((function(e){return e.navigation.currentHash})),o=(0,u.Wd)("showDomainSetup"),l=(0,u.Wd)("postPublishedType"),d=(0,u.Wd)("responsesOpen"),v=(0,u.PM)(),f=(0,u.G1)(),N=(0,p.v9)((function(e){return e.navigation.host})),h=(0,k.mb)();if(!n||h)return t;var y=r.parse(decodeURIComponent(n)),b=g(g(g(g(g({},v?{source:v}:{}),f?{sk:f}:{}),l?{postPublishedType:l}:{}),o?{showDomainSetup:o}:{}),d?{responsesOpen:d}:{});return N!==y.host?S.indexOf(N)>-1?s.createElement(c.$,null):s.createElement(m.l,{to:(0,k.Rk)(n,b,a),replace:!0,isMediumApp:!0}):y.path&&i!==y.path?s.createElement(m.l,{to:(0,k.Rk)(y.path,b,a),replace:!0}):t}},6455:(e,n,i)=>{"use strict";i.d(n,{h:()=>I});var t=i(59713),a=i.n(t),o=i(93022),l=i(67294),r=i(70405),d=i(27517),s=i(28655),c=i.n(s),m=i(82492),u=i.n(m),p=i(92471),k=i(68254),v=i.n(k),g=i(20512),f=i(46696),S=i(78870),N=i(15085),h=i(50458),y=i(68216);function b(){var e=c()(["\n  fragment PostJsonLd_post on Post {\n    id\n    title\n    seoTitle\n    mediumUrl\n    creator {\n      name\n      username\n      ...userUrl_user\n    }\n    collection {\n      id\n      name\n      domain\n      slug\n      logo {\n        id\n        originalWidth\n        originalHeight\n      }\n    }\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n      originalWidth\n      originalHeight\n    }\n    isLocked\n    firstPublishedAt\n    updatedAt\n    isShortform\n    shortformType\n    ...getTitleForPost_post\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}function F(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function E(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?F(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var w=(0,d.$j)((function(e){var n=e.config,i=n.productName,t=n.defaultImages,a=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:i,defaultImages:t,collectionStructuredData:a}}))((function(e){var n=e.currentLocation,i=e.host,t=e.post,a=e.postDescription,o=e.productName,d=e.defaultImages,s=e.collectionStructuredData,c=t.collection,m=t.creator,p=t.id,k=t.mediumUrl,y=t.isLocked,b=t.previewImage,F=t.firstPublishedAt,w=t.updatedAt,x=(0,N._t)(t,o),_={id:d.postLogo.imageId,originalWidth:d.postLogo.width,originalHeight:d.postLogo.height},P={id:d.orgLogo.imageId,originalWidth:d.orgLogo.width,originalHeight:d.orgLogo.height},C=c?{"@type":"Organization",name:c.name,url:c.domain||(0,S.l1)(i,(0,h.WG)(c,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,g.lc)(P);var n=(0,g.lc)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,g.lc)(P)}(c)}:{"@type":"Organization",name:o,url:(0,S.l1)(i,"/"),logo:(0,g.lc)(P)};c&&s&&s[c.id]&&u()(C,s[c.id].data);var I=b&&b.id?(0,g.Y4)(E(E({},b),{},{miroId:b.id,croppedWidth:1200})):(0,g.NJ)({url:(0,f.W6)({miroId:_.id,width:_.originalWidth}),height:_.originalHeight,width:_.originalWidth}),T=a||"",O=y?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},D=E({"@type":"NewsArticle",image:I,url:k,dateCreated:F&&new Date(F).toISOString(),datePublished:F&&new Date(F).toISOString(),dateModified:w&&new Date(w).toISOString(),headline:x,name:x,description:T,identifier:p,author:m&&m.name&&m.username?{"@type":"Person",name:m.name||m.username,url:(0,h.AW)(m,i)}:null,creator:m&&[m.name],publisher:C,mainEntityOfPage:k},O),R=E(E({},{"@context":"http://schema.org"}),D);return l.createElement(r.ql,null,l.createElement("script",{type:"application/ld+json"},v()(R,{isJSON:!0})))})),x=((0,p.Ps)(b(),N.bq,y.$m),i(21372)),_=i(22680);function P(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function C(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?P(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var I=(0,d.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,i,t,a,d=e.authDomain,s=e.productName,c=e.post,m=c.canonicalUrl,u=c.collection,p=c.creator,k=c.id,v=c.latestPublishedAt,g=c.mediumUrl,S=c.previewContent,y=c.socialTitle,b=c.socialDek,F=c.visibility,E=c.isShortform,P="UNLISTED"===F,I=!c.firstPublishedAt,T=null==p?void 0:p.name,O=(0,N.yB)(c),D=c.title||"",R=O.latestTitle||D;if(E){var A=C(C({},c),{},{title:R});t=(0,N.oS)(A,s,O.hasTitleGraf).trim(),a=(0,_.O)(c,O.hasTitleGraf)}else t=(0,N._t)(c,s,O,!0).trim(),a=(0,_.j)(c);var M,V,B,L=b||(null==S?void 0:S.subtitle)||a;if(null!=c&&null!==(n=c.previewImage)&&void 0!==n&&n.id&&!c.isLimitedState){var j=c.previewImage;M=(0,f.vz)({miroId:j.id,aspectRatio:1.9,croppedWidth:j.originalWidth?Math.min(j.originalWidth,1200):1200,originalWidth:j.originalWidth,originalHeight:j.originalHeight,focusPercentX:j.focusPercentX,focusPercentY:j.focusPercentY}),c.previewImage.alt&&(V=c.previewImage.alt)}else if(c.isLimitedState){var U={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};M=(0,f.vz)({miroId:U.id,aspectRatio:1.9,croppedWidth:U.originalWidth?Math.min(U.originalWidth,1200):1200,originalWidth:U.originalWidth,originalHeight:U.originalHeight,focusPercentX:U.focusPercentX,focusPercentY:U.focusPercentY}),V="This image was reported as a potential violation of Medium's rules and is under investigation."}null!=p&&p.username&&(B=(0,h.AW)(p,d));var H=(0,h.CK)(k),W=!(null!==(i=(0,N.c_)(c))&&void 0!==i&&i.shouldIndexPost),G=v&&new Date(v).toISOString(),z=(0,x.Vd)(c.readingTime||0),Y=null==p?void 0:p.twitterScreenName,q=(null==u?void 0:u.twitterUsername)||"Medium",Z=null==u?void 0:u.facebookPageId,$=y||D||R;c.isLimitedState&&($="");var Q=c.isLimitedState?"":L,X=(0,l.useMemo)((function(){var e;return l.createElement(r.ql,null,l.createElement("meta",{property:"og:type",content:"article"}),G&&l.createElement("meta",{property:"article:published_time",content:G}),l.createElement("title",null,t),l.createElement("meta",{name:"title",content:t}),l.createElement("meta",{property:"og:title",content:$}),Z&&l.createElement("meta",{property:"fb:pages",content:Z}),l.createElement("meta",{property:"al:android:url",content:H}),l.createElement("meta",{property:"al:ios:url",content:H}),l.createElement("meta",{property:"al:android:app_name",content:"Medium"}),a&&l.createElement("meta",{name:"description",content:a}),L&&l.createElement("meta",{property:"og:description",content:Q}),l.createElement("meta",{property:"og:url",content:null!=g?g:void 0}),l.createElement("meta",{property:"al:web:url",content:null!=g?g:void 0}),M&&l.createElement("meta",{property:"og:image",content:M}),V&&l.createElement("meta",{property:"og:image:alt",content:V}),B&&l.createElement("meta",{property:"article:author",content:B}),B&&l.createElement("link",{rel:"author",href:B}),T&&l.createElement("meta",{name:"author",content:T}),l.createElement("link",{rel:"canonical",href:null!==(e=m||g)&&void 0!==e?e:void 0}),l.createElement("link",{rel:"alternate",href:(0,h.zi)((0,h.o2)("medium.com",c.id))}),l.createElement("meta",{name:"robots",content:"".concat(W?"noindex":"index",",follow,max-image-preview:large")}),l.createElement("meta",{name:"referrer",content:P||I?"origin":"unsafe-url"}),l.createElement("meta",{property:"twitter:title",content:$}),l.createElement("meta",{name:"twitter:site",content:"@".concat(q)}),l.createElement("meta",{name:"twitter:app:url:iphone",content:H}),L&&l.createElement("meta",{property:"twitter:description",content:Q}),M&&l.createElement("meta",{name:"twitter:image:src",content:M}),V&&l.createElement("meta",{name:"twitter:image:alt",content:V}),l.createElement("meta",{name:"twitter:card",content:M?"summary_large_image":"summary"}),Y&&l.createElement("meta",{name:"twitter:creator",content:"@".concat(Y)}),l.createElement("meta",{name:"twitter:label1",content:"Reading time"}),l.createElement("meta",{name:"twitter:data1",content:"".concat(z," min read")}),l.createElement("meta",{name:"twitter:tile:template:testing",content:"2"}),M&&l.createElement("meta",{name:"twitter:tile:image",content:M}),V&&l.createElement("meta",{name:"twitter:tile:image:alt",content:V}),l.createElement("meta",{name:"twitter:tile:info1:icon",content:"Person"}),T&&l.createElement("meta",{name:"twitter:tile:info1:text",content:T}),l.createElement("meta",{name:"twitter:tile:info2:icon",content:"Calendar"}),v&&l.createElement("meta",{name:"twitter:tile:info2:text",content:(0,o.Z)(v,"LLL d, yyyy")}),l.createElement("meta",{name:"twitter:cta",content:"Read on Medium"}))}),[t,m,g,M,V,k,y,a,B,T,Y,H,W,v,G]);return l.createElement(l.Fragment,null,X,l.createElement(w,{post:c,postDescription:a}))}))},59966:(e,n,i)=>{"use strict";i.d(n,{x:()=>t,S:()=>a});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingToast_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNoteMissingToastQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]}},67927:(e,n,i)=>{"use strict";i.d(n,{F:()=>v});var t=i(67294),a=i(91743),o=i(1444),l=i(84663),r=i(56804),d=i(17878),s=i(75761),c=i(21232),m=i(6443),u=i(75399),p=i(77355),k=i(66411),v=function(e){var n,i=e.post,v=e.useSocialPopover,g=e.shouldHideClapsText,f=void 0!==g&&g,S=t.useContext(c.f).openSidebar,N=!!(0,m.H)().value,h=i.isPublished,y=i.creator,b="clap_footer",F={post:i,source:"post_actions_footer"},E=(null==i||null===(n=i.postResponses)||void 0===n?void 0:n.count)||null;return t.createElement(t.Fragment,null,t.createElement(p.x,{display:"flex",justifyContent:"space-between",print:{display:"none"}},t.createElement(k.cW,{source:{name:"post_actions_footer"}},t.createElement(p.x,{display:"flex",flexDirection:"row",alignItems:"center"},t.createElement(p.x,{maxWidth:"155px"},t.createElement(d.e,null,t.createElement(r.S,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:f,susiEntry:b,buttonColor:"LIGHTER",countScale:"S"})),t.createElement(d.s,null,t.createElement(r.S,{post:i,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:f,susiEntry:b,buttonColor:"LIGHTER",countScale:"S"}))),t.createElement(k.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},t.createElement(p.x,{display:"flex",marginLeft:"24px"},t.createElement(s.h,{svgSize:"S",trackingData:{postId:i.id},responsesCount:E,allowResponses:i.allowResponses,isLimitedState:i.isLimitedState,handleClick:S,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},disabledTooltipText:"Responses hidden"}))))),t.createElement(p.x,{display:"flex",alignItems:"center"},h&&t.createElement(t.Fragment,null,v?t.createElement(l.I,F):t.createElement(u.U,F),t.createElement(p.x,{flexGrow:"0",margin:v?"0 20px":"0 4px 0 5px"},t.createElement(k.cW,{source:{name:"post_actions_footer"}},t.createElement(o.o,{post:i,susiEntry:"bookmark_footer",buttonStyle:"ICON_SUBTLE"})))),i&&y&&N&&t.createElement(a.t,{post:i}))))}},49457:(e,n,i)=>{"use strict";i.d(n,{F:()=>w});var t=i(67294),a=i(17235),o=i(77355),l=i(93310),r=i(30020),d=i(87691),s=i(14646),c=i(53690),m=i(78271),u=i(50344),p=i(8969),k=i(45957),v=function(e){return{fill:e.baseColor.fill.lighter}};function g(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(S(e,"title")," license by the author.")}}var f={PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}};function S(e,n){return f[e][n]}var N=function(e){var n=e.license,i=(0,s.I)();return n?t.createElement(o.x,{display:"inline"},t.createElement(o.x,{display:"inline-block"},t.createElement(d.F,{scale:"M"},t.createElement(r._,{tooltipText:g(n),maxWidth:300},t.createElement(l.r,{disableSourceParam:!0,href:S(n,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(n))))),t.createElement(o.x,{display:"inline-block"},t.createElement(d.F,{scale:"M"},"CC_40_ZERO"===n&&t.createElement("span",null," by the author."),t.createElement("span",{className:i(v),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:t.createElement(k.Z,null),CC_40_BY:t.createElement(c.Z,null),CC_40_BY_ND:t.createElement(t.Fragment,null,t.createElement(c.Z,null),t.createElement(u.Z,null)),CC_40_BY_SA:t.createElement(t.Fragment,null,t.createElement(c.Z,null),t.createElement(p.Z,null)),CC_40_BY_NC:t.createElement(t.Fragment,null,t.createElement(c.Z,null),t.createElement(m.Z,null)),CC_40_BY_NC_ND:t.createElement(t.Fragment,null,t.createElement(c.Z,null),t.createElement(m.Z,null),t.createElement(u.Z,null)),CC_40_BY_NC_SA:t.createElement(t.Fragment,null,t.createElement(c.Z,null),t.createElement(m.Z,null),t.createElement(p.Z,null)),PUBLIC_DOMAIN:t.createElement(t.Fragment,null)}[e]}(n))))):null},h=i(73279),y=i(96370),b=i(42440),F=function(e){var n=e.post,i=e.marginBottom,l=(null==n?void 0:n.tags)||[];return l.length?t.createElement(o.x,{display:"flex",flexWrap:"wrap","align-items":"flex-start",marginTop:"6px",marginBottom:i},l.map((function(e){return t.createElement(o.x,{display:"flex",marginTop:"8px",key:e.id},t.createElement(a.P,{topic:e}))}))):null},E=function(){return t.createElement(o.x,{padding:"0 8px",display:"inline"},t.createElement(h.O,{display:"inline",scale:"M"}))},w=function(e){var n,i=e.post,a=i.visibility,l=i.license,r="UNLISTED"===a,s=!(!l||"ALL_RIGHTS_RESERVED"===l),c=!(null===(n=i.tags)||void 0===n||!n.length),m=r||s;return c||m?t.createElement(y.P,{size:"app"},t.createElement(F,{post:i,marginBottom:m?"40px":"26px"}),m&&t.createElement(o.x,{marginTop:c?"0px":"12px",marginBottom:"26px"},r&&t.createElement(o.x,{display:"inline"},t.createElement(d.F,{scale:"M",tag:"span"},t.createElement(b.Z,null)," Unlisted")),r&&s&&t.createElement(E,null),s&&t.createElement(N,{license:l}))):null}},45114:(e,n,i)=>{"use strict";i.d(n,{kD:()=>v,T8:()=>g});var t,a,o=i(59713),l=i.n(o),r=i(28959),d="post-view",s="post-read",c="topic-view",m="medium-search",u="external-search",p=(t={},l()(t,d,200),l()(t,s,200),l()(t,c,200),l()(t,m,200),l()(t,u,200),t),k=(a={},l()(a,d,new r.Z("pv")),l()(a,s,new r.Z("pr")),l()(a,c,new r.Z("tv")),l()(a,m,new r.Z("ms")),l()(a,u,new r.Z("es")),a),v=function(e){f(d,e,Date.now())},g=function(e){f(s,e,Date.now())},f=function(e,n,i){var t=k[e];t.getCount()===p[e]&&t.clean();try{t.set(n,i)}catch(e){t.clean()}}},51802:(e,n,i)=>{"use strict";i.d(n,{t:()=>C});var t=i(60672),a=i(67701),o=i(28655),l=i.n(o),r=i(64718);function d(){var e=l()(["\n  query TopicViewerEdge($topicId: ID!) {\n    topic(id: $topicId) {\n      ... on Topic {\n        id\n        viewerEdge {\n          id\n          isFollowing\n        }\n      }\n    }\n  }\n"]);return d=function(){return e},e}var s=(0,i(92471).Ps)(d()),c=i(75880),m=i(43487),u=i(50458),p=i(87757),k=i.n(p),v=i(48926),g=i.n(v),f=i(63038),S=i.n(f),N=i(67294),h=i(45114),y=i(25550),b=i(49608),F=i(18627),E=i(80872),w=i(62896),x=function(){var e=g()(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{_((function(n){e(n)}))}catch(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _(e){var n="Unknown";function i(i){e({isPrivate:i,browserName:n})}function t(){void 0!==Promise?navigator.webkitTemporaryStorage.queryUsageAndQuota((function(e,n){var t;i(n<(void 0!==(t=window).performance&&void 0!==t.performance.memory&&void 0!==t.performance.memory.jsHeapSizeLimit?performance.memory.jsHeapSizeLimit:1073741824))}),(function(e){throw new Error("detectIncognito somehow failed to query storage quota: "+e.message)})):(0,window.webkitRequestFileSystem)(0,1,(function(){i(!1)}),(function(){i(!0)}))}!function(){var e=navigator.userAgent,a=navigator.vendor;try{if((0,w.G6)(e))!function(){var e,t,a=window;if(void 0!==navigator.maxTouchPoints)if(void 0!==a.safari&&void 0===a.DeviceMotionEvent)n="Safari for macOS",function(){try{window.safari.pushNotification.requestPermission("https://example.com","private",{},(function(){}))}catch(e){return i(!new RegExp("gesture").test(e))}i(!1)}();else{if(void 0===a.DeviceMotionEvent)throw new Error("detectIncognito Could not identify this version of Safari");n="Safari for iOS",e=!1,(t=document.createElement("iframe")).style.display="none",document.body.appendChild(t),t&&t.contentWindow&&t.contentWindow.applicationCache.addEventListener("error",(function(){return e=!0,i(!0)})),setTimeout((function(){e||i(!1)}),100)}else!function(){var e=window.openDatabase,n=window.localStorage;try{e(null,null,null,null)}catch(e){return i(!0)}try{n.setItem("test","1"),n.removeItem("test")}catch(e){return i(!0)}i(!1)}()}();else if((0,w.i7)(a))n=function(){var e=navigator.userAgent;return e.match(/Chrome/)?e.match(/Edg/)?"Edge":void 0!==navigator.brave?"Brave":void 0!==navigator.opr?"Opera":"Chrome":"Chromium"}(),t();else if((0,w.vU)(e))n="Firefox",i(void 0===navigator.serviceWorker);else{if(void 0===navigator.msSaveBlob)throw new Error("detectIncognito cannot determine the browser");n="Internet Explorer",i(void 0===window.indexedDB)}}catch(e){return n="Unknown",i(!1)}}()}var P=i(15085),C=function(e){var n=e.post,i=e.meteringInfo,o=e.clientViewedContext,l=void 0===o?1:o,d=e.overrideCommonData,p=void 0===d?{}:d;(function(e){var n,i,o=e.post,l=e.meteringInfo,d=(0,m.v9)((function(e){return e.config.authDomain})),p=null==o?void 0:o.id,k=(0,c.Pd)(null==o?void 0:o.creator),v=k.viewerEdge,g=k.loading,f=(0,a.gY)(null==o?void 0:o.collection),S=f.viewerEdge,N=f.loading,h=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=(0,r.a)(s,{variables:{topicId:n},ssr:!1,skip:!n}),t=i.loading,a=i.error,o=i.data;return t?{loading:t}:a?{error:a}:{viewerEdge:null==o||null===(e=o.topic)||void 0===e?void 0:e.viewerEdge}}(null==o||null===(n=o.primaryTopic)||void 0===n?void 0:n.id),y=h.viewerEdge,b=h.loading,F=N||g||b;(0,t.e)({data:{canonicalUrl:p&&null!=o&&null!==(i=o.collection)&&void 0!==i&&i.domain?(0,u.o2)(d,p):void 0,creatorViewerEdge:v,collectionViewerEdge:S,meteringInfo:l,post:o||void 0,topicViewerEdge:y},loading:!p||F||!(null!=o&&o.isPublished),show:!0})})({post:n,meteringInfo:i}),function(e){var n=e.post,i=e.clientViewedContext,t=e.overrideCommonData,a=void 0===t?{}:t,o=(0,F.Av)(),l=(0,y.r)(),r=l.loading,d=l.viewerId,s=(0,m.v9)((function(e){return e.client.viewerIsBot})),c=d&&(0,b.Q)(d),u=(null==n?void 0:n.collection)||{},p=u.id,v=u.slug,f=((null==n?void 0:n.content)||{}).validatedShareKey,w=null==n?void 0:n.id,_=N.useState(!1),C=S()(_,2),I=C[0],T=C[1],O=N.useState(null),D=S()(O,2),R=D[0],A=D[1],M=N.useCallback(g()(k().mark((function e(){var n,i,t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:i=e.sent,t=null!==(n="Unknown"===i.browserName||i.isPrivate)&&void 0!==n?n:null,T(!0),A(t);case 6:case"end":return e.stop()}}),e)}))),[]);N.useEffect((function(){if(!r&&w&&d&&I){if(null!=n&&n.isPublished){c||(n.isLocked?(0,E.yB)():(0,E.B8)());var e=(0,P.c_)(n),t=e.shouldIndexPost,l=e.indexReason;s&&o.event("post.clientBotCrawled",{postId:w,userId:d,userAgent:navigator.userAgent,lastCrawledAt:Date.now(),isIndexable:t,indexReason:l}),o.event("post.clientViewed",{postId:w,collectionId:p,collectionSlug:v,context:i,isFriendLink:!!f,source:"post_page",isIncognitoMode:R,isTruncated:n.content.isLockedPreviewOnly},a)}else o.event("post.draftViewed",{postId:w});c||(0,h.kD)(w)}else I||M()}),[w,d,r,R,M])}({post:n,clientViewedContext:l,overrideCommonData:p})}},97576:(e,n,i)=>{"use strict";i.d(n,{Y:()=>r,l:()=>d});var t=i(319),a=i.n(t),o=i(82111),l=i(89748),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNextFiveStories_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_publisher"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardByline_publisher"}}]}}]}}].concat(a()(l.Gk.definitions))},d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNextFiveStoriesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"authorId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isPublication"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"PaginationLimit"}},defaultValue:{kind:"IntValue",value:"5"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"authorId"},value:{kind:"Variable",name:{kind:"Name",value:"authorId"}}},{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isPublication"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collectionRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}},{kind:"ObjectField",name:{kind:"Name",value:"collectionId"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}},{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isPublication"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}]}}]}}]}}].concat(a()(o.Cg.definitions))}},48835:(e,n,i)=>{"use strict";i.d(n,{q:()=>k});var t=i(63038),a=i.n(t),o=i(64718),l=i(67294),r=i(27517),d=i(5977),s=i(78285),c=i(77280),m=i(43487),u=i(39202),p=i(59966),k=function(e){var n,i,t,k,v,g=(0,d.TH)().hash,f=null==g||null===(n=g.replace("#",""))||void 0===n?void 0:n.split("-"),S=a()(f,2),N=S[0],h=S[1],y=(0,m.v9)((function(e){return e.navigation.referrer})),b=(0,c.G1)(),F=(0,c.PM)(),E=(0,o.a)(p.S,{variables:{postId:null==e?void 0:e.id,postMeteringOptions:{referrer:y,sk:b,source:F}},ssr:!1,skip:!h}),w=E.loading,x=E.error,_=E.data,P=(null!=_?_:{}).post,C=null==P||null===(i=P.privateNotes)||void 0===i?void 0:i.find((function(e){return(null==e?void 0:e.id)===h})),I=null!==(t=null==P||null===(k=P.content)||void 0===k||null===(v=k.bodyModel)||void 0===v?void 0:v.paragraphs)&&void 0!==t?t:[],T=new Set(I.map((function(e){return e.name})).filter(u.b)),O=!!C&&T.has(N),D=!(w||x||!h||O),R=(0,r.I0)();(0,l.useEffect)((function(){D&&R((0,s.Dx)({duration:"NEXTPAGE",message:"The note you're looking for was deleted."}))}),[D,R,s.Dx])}},14337:(e,n,i)=>{"use strict";i.d(n,{v:()=>r});var t=i(319),a=i.n(t),o=i(84683),l=i(27048),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherAvatar_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}}]}}]}}].concat(a()(o.d.definitions),a()(l.W.definitions))}},81712:(e,n,i)=>{"use strict";i.d(n,{f:()=>r});var t=i(319),a=i.n(t),o=i(19308),l=i(78693),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherFollowButton_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionFollowButton_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}}]}}]}}].concat(a()(o.I.definitions),a()(l.s.definitions))}},75761:(e,n,i)=>{"use strict";i.d(n,{h:()=>F});var t=i(59713),a=i.n(t),o=i(67294),l=i(30020),r=i(87691),d=i(18627),s=i(66411),c=i(14646);function m(){return(m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var u=o.createElement("path",{d:"M18 16.8a7.14 7.14 0 0 0 2.24-5.32c0-4.12-3.53-7.48-8.05-7.48C7.67 4 4 7.36 4 11.48c0 4.13 3.67 7.48 8.2 7.48a8.9 8.9 0 0 0 2.38-.32c.23.2.48.39.75.56 1.06.69 2.2 1.04 3.4 1.04.22 0 .4-.11.48-.29a.5.5 0 0 0-.04-.52 6.4 6.4 0 0 1-1.16-2.65v.02zm-3.12 1.06l-.06-.22-.32.1a8 8 0 0 1-2.3.33c-4.03 0-7.3-2.96-7.3-6.59S8.17 4.9 12.2 4.9c4 0 7.1 2.96 7.1 6.6 0 1.8-.6 3.47-2.02 4.72l-.2.16v.26l.02.3a6.74 6.74 0 0 0 .88 2.4 5.27 5.27 0 0 1-2.17-.86c-.28-.17-.72-.38-.94-.59l.01-.02z"});const p=function(e){return o.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24"},e),u)};var k=i(55459);function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var g=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.47 20.27a6.08 6.08 0 0 1-4.06-1.55c-.74.2-1.51.3-2.29.3-4.48 0-8.12-3.35-8.12-7.48 0-4.15 3.64-7.5 8.12-7.5 4.48 0 8.12 3.35 8.12 7.48 0 1.98-.81 3.83-2.3 5.23.02.17.05.34.1.53.2.66.52 1.33 1 1.96a.66.66 0 0 1-.53 1.04h-.04z"});const f=function(e){return o.createElement("svg",v({width:24,height:24,viewBox:"0 0 24 24"},e),g)};function S(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function N(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?S(Object(i),!0).forEach((function(n){a()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var h=function(e,n){return"LIGHTER"===n?e.baseColor.fill.darker:e.baseColor.fill.lighter},y=function(e,n){return function(i){return{cursor:n?"not-allowed":"pointer",border:0,opacity:n?.25:1,padding:"4px 0",display:"flex",alignItems:"center",fill:"LIGHTER"===e?i.baseColor.fill.lighter:i.baseColor.fill.light,":hover":n?void 0:{fill:h(i,e),"& p":{color:h(i,e)}}}}},b=function(e){return{cursor:"not-allowed",fill:e.baseColor.fill.lighter,opacity:.25}},F=function(e){var n=e.allowResponses,i=e.responsesCount,t=e.handleClick,a=e.trackingData,m=e.isLimitedState,u=e.iconStylesOverride,v=e.countStylesOverride,g=e.svgSize,S=void 0===g?"L":g,h=e.responsesCountColor,F=void 0===h?"LIGHTER":h,E=e.disabledTooltipText,w=void 0===E?"":E,x=e.responsesCountScale,_=void 0===x?"M":x,P=(0,c.I)(),C=(0,d.Av)(),I=(0,s.pK)(),T=n&&i,O="S"===S?n?o.createElement(p,{"aria-label":"responses",className:P([u])}):o.createElement(f,{"aria-label":"responses hidden",className:P([b])}):o.createElement(k.Z,{"aria-label":"responses",className:P([u])});return o.createElement(l._,{tooltipText:m||!n?w:"Respond",targetDistance:15},o.createElement("button",{onClick:m||!n?void 0:function(e){null==t||t(e),C.event("responses.viewAllClicked",N(N({},a),{},{source:I}))},className:P(y(F,m)),"aria-label":"responses",disabled:!n},O,!!T&&o.createElement(r.F,{scale:_,color:F},o.createElement("span",{className:"pw-responses-count ".concat(P([v]))},i))))}},98482:(e,n,i)=>{"use strict";i.d(n,{k:()=>D});var t=i(63038),a=i.n(t),o=i(67294),l=i(6722),r=i(43242),d=i(80745),s=i(28655),c=i.n(s),m=i(87757),u=i.n(m),p=i(6479),k=i.n(p),v=i(48926),g=i.n(v),f=i(38460),S=i(92471),N=i(68356),h=i.n(N),y=i(35469);function b(){var e=c()(["\n  fragment ThreadedResponsesSidebarContent_post on Post {\n    id\n    postResponses {\n      count\n    }\n    collection {\n      id\n      viewerEdge {\n        id\n        isEditor\n      }\n    }\n    creator {\n      id\n    }\n    ...ThreadedReplies_post\n  }\n  ","\n"]);return b=function(){return e},e}var F=(0,S.Ps)(b(),y.e),E=i(76412),w=i(18733),x=i(66411),_=i(50742),P=i(97217),C=i(86742);function I(){var e=c()(["\n  fragment ThreadedResponsesSidebar_post on Post {\n    id\n    ...ThreadedResponsesSidebarContent_post\n  }\n  ","\n"]);return I=function(){return e},e}var T=h()({loading:function(){return null},loader:function(){return Promise.all([i.e(7084),i.e(3115),i.e(6318),i.e(8121),i.e(8720),i.e(8913)]).then(i.bind(i,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,_.n)("ThreadedResponsesSidebarContent")}),O=function(e){var n,i,t,l,r,s,c,m,p,v=e.isResponsesSidebarVisible,S=e.inResponseToQuote,N=e.setInResponseToQuote,h=e.parentPost,y=e.continueThisThreadPost,b=e.continueThisThreadPostDepth,F=e.showPreviousSidebar,_=e.cleanupSidebar,I=e.initialSidebarRender,O=e.responsesSort,D=O?P.sV[O]:void 0,R=o.useState(D||P.sV.TOP),A=a()(R,2),M=A[0],V=A[1],B=o.useState(!1),L=a()(B,2),j=L[0],U=L[1],H=o.useRef(null),W=(0,f.t)(C.A,{variables:{postId:h.id,postResponsesPaging:{limit:d.p4},sortType:M},ssr:!1}),G=a()(W,2),z=G[0],Y=G[1],q=Y.called,Z=Y.loading,$=Y.data,Q=Y.fetchMore;q||y||!v||(z(),T.preload());var X=null==$||null===(n=$.post)||void 0===n?void 0:n.responsesLocked,K=null==$||null===(i=$.post)||void 0===i?void 0:i.isLockedResponse,J=(0,d.aj)(v,I,null==$||null===(t=$.post)||void 0===t?void 0:t.threadedPostResponses,y),ee=J.responses,ne=J.showCreateReplyEditor,ie=(null==$||null===(l=$.post)||void 0===l||null===(r=l.responseRootPost)||void 0===r||null===(s=r.post)||void 0===s?void 0:s.id)||"",te=b||(null==$||null===(c=$.post)||void 0===c||null===(m=c.responseRootPost)||void 0===m?void 0:m.responseDepth)||0,ae=void 0,oe=null==ee||null===(p=ee.pagingInfo)||void 0===p?void 0:p.next;return oe&&!y&&(ae=function(){var e=g()(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=5;break}return oe.__typename,n=k()(oe,["__typename"]),e.next=4,Q({variables:{postId:h.id,postResponsesPaging:n}});case 4:U(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o.createElement(w.N8,null,o.createElement(x.cW,{source:{name:"responses",postId:h.id},extendSource:!0},o.createElement(E.I,{sidebarRef:H,cleanupSidebar:_,isResponsesSidebarVisible:v,pagingInfoNext:oe,isFetchingNextSetOfResponses:j,setIsFetching:U,fetchMoreWithArguments:ae,initialSidebarRender:I},(function(e){var n=e.responseDistribution,i=e.setResponseDistribution,t=e.closeSidebar;return q||y?o.createElement(T,{responses:ee,parentPost:h,responsesLocked:X,isLockedResponse:K,isLoadingInitialContent:Z,isFetchingNextSetOfResponses:j,isResponsesSidebarVisible:v,closeSidebar:t,showPreviousSidebar:F,inResponseToQuote:S,setInResponseToQuote:N,sidebarRef:H,responseDistribution:n,setResponseDistribution:i,responseSortType:M,setResponseSortType:V,rootPostId:ie,postDepth:te,isContinueThisThread:!!y,showCreateReplyEditor:ne}):null}))))},D=((0,S.Ps)(I(),F),function(e){var n=e.children,i=e.post,t=(0,o.useState)(void 0),s=a()(t,2),c=s[0],m=s[1],u=(0,o.useCallback)((function(e){return function(n){m(n),e()}}),[]);return o.createElement(r.E,null,(function(e){var t=e.showPreviousSidebar,a=e.hasLoaded,r=e.initialSidebarRender,s=e.isVisible,p=e.continueThisThreadPosts,k=e.openSidebar,v=e.cleanupSidebar,g=e.responseSortOption;return o.createElement(l.Q.Provider,{value:{openSidebarToRespondToHighlight:u(k)}},!!i&&a&&o.createElement(O,{isResponsesSidebarVisible:s&&0===p.length,parentPost:i,inResponseToQuote:c,setInResponseToQuote:m,showPreviousSidebar:t,cleanupSidebar:v,initialSidebarRender:!!r.current,responsesSort:g}),!!i&&a&&p.map((function(e,n,a){var l=(0,d.iI)(n);return o.createElement(O,{key:i.id,isResponsesSidebarVisible:s&&n===a.length-1,parentPost:i,inResponseToQuote:c,setInResponseToQuote:m,continueThisThreadPost:e,continueThisThreadPostDepth:l,showPreviousSidebar:t,cleanupSidebar:v,initialSidebarRender:!!r.current,responsesSort:g})})),n)}))})},27448:(e,n,i)=>{"use strict";i.d(n,{y:()=>d});var t=i(319),a=i.n(t),o=i(12182),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_post"}}]}}].concat(a()(o.e9.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat(a()(l.definitions))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat(a()(r.definitions))}},19535:(e,n,i)=>{"use strict";i.d(n,{n:()=>k});var t=i(64718),a=i(25735),o=i(25550),l=i(49608),r=i(22923),d=i(77280),s=i(43487),c=i(319),m=i.n(c),u=i(94078),p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}}]}}]}}]}}]}}]}}].concat(m()(u.Pk.definitions))},k=function(){var e,n,i,c,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],k=arguments.length>2?arguments[2]:void 0,v=(0,s.v9)((function(e){return e.navigation.referrer})),g=null!==(e=(0,d.G1)())&&void 0!==e?e:void 0,f=null!==(n=(0,d.PM)())&&void 0!==n?n:void 0,S={referrer:v,sk:g,source:f},N=(0,o.r)(),h=N.viewerId,y=N.loading,b=(0,l.Q)(null!=h?h:""),F=(0,r._)(m,h),E=(0,a.dd)("enable_dismissible_regwall"),w=E.loading,x=E.value,_=!u;w||!x||y||b||!1!==k||(_=!1!==F);var P=(0,t.a)(p,{variables:{postId:m,postMeteringOptions:S},ssr:!1,skip:!m||_}),C=P.loading,I=P.error,T=P.data,O=null==T||null===(i=T.post)||void 0===i||null===(c=i.viewerEdge)||void 0===c?void 0:c.fullContent;return C?{loading:C}:I?{error:I}:{content:O}}},8903:(e,n,i)=>{"use strict";i.d(n,{w:()=>m});var t=i(67294),a=i(27517),o=i(61998),l=i(25735),r=i(25550),d=i(49608),s=i(21927),c=i(22923),m=function(e,n,i){var m=(0,r.r)().viewerId,u=(0,d.Q)(null!=m?m:""),p=(0,c._)(e,m),k=(0,l.dd)("enable_dismissible_regwall"),v=k.loading,g=k.value,f=(0,a.I0)(),S=m&&!u&&!v&&g&&n&&!1===i;return(0,t.useEffect)((function(){i&&(0,o.S)(e,m),S&&void 0===p&&f((0,s.I)({postId:e,userId:m,shouldShow:!i}))}),[e,m,S,p,i,o.S]),!!S}},54558:(e,n,i)=>{"use strict";i.d(n,{o:()=>y});var t=i(28655),a=i.n(t),o=i(59713),l=i.n(o),r=i(63038),d=i.n(r),s=i(92471),c=i(75412),m=i(67294),u=i(6443),p=i(25550),k=i(18627),v=i(66411),g=i(97171),f=i(77280);function S(){var e=a()(["\n  query UserSocialLoginsQuery($userId: String!) {\n    userSocialLogins(userId: $userId) {\n      userId\n      twitter\n      facebook\n      google\n      redactedEmailAddress\n      isMember\n      emailAddress\n      userAvatar {\n        __typename\n        username\n        name\n        imageId\n        mediumMemberAt\n      }\n    }\n  }\n"]);return S=function(){return e},e}function N(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function h(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?N(Object(i),!0).forEach((function(n){l()(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var y=function(e){var n=e.children,i=e.postRenderCallback,t=(0,k.Av)(),a=(0,v.hp)(),o=(0,f.PM)(),l=(0,v.P7)(o||""),r=l.userId,s=l.name,S=m.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),N=d()(S,2),y=N[0],F=N[1];m.useEffect((function(){var e=y.shouldRun,n=y.showSuggestedAccount,t=y.userSocialLogins;e&&(null==i||i(E,n,t))}),[y.shouldRun]);var E=(0,u.H)().value,w=(0,p.r)(),x=w.loading,_=w.error,P=w.viewerId;if(x||_)return null;var C=!("email"!==s||E&&E.mediumMemberAt||!r);return C&&r?m.createElement(c.A,{query:b,variables:{userId:r}},(function(e){var o=e.loading,l=e.error,r=e.data,d=(r=void 0===r?{}:r).userSocialLogins,s=!(o||l||!d||E&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),c=h({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,g.S)(d);t.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e,alternateUserSuggestionAccountType:e,alternateUserSuggestionTargetUserId:null==d?void 0:d.userId,alternateUserSuggestionSourceUserId:P})}});return!i||o||y.shouldRun||F({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),(null==n?void 0:n(c))||null})):(i&&!y.shouldRun&&F(h(h({},y),{},{shouldRun:!0})),(null==n?void 0:n({showSuggestedAccount:C,loading:!1}))||null)},b=(0,s.Ps)(S())},10877:(e,n,i)=>{"use strict";i.d(n,{T:()=>T});var t=i(28655),a=i.n(t),o=i(63038),l=i.n(o),r=i(92471),d=i(67294),s=i(6443),c=i(27517),m=i(91583),u=i(77355),p=i(47230),k=i(66227),v=i(73917),g=i(93310),f=i(20113),S=i(87691),N=i(78285),h=i(14804);function y(){return(y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var b=d.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),F=d.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),E=d.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),w=d.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const x=function(e){return d.createElement("svg",y({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),b,F,E,w)};var _=(0,c.$j)()((function(e){var n=e.dispatch,i=e.isVisible,t=e.hide,a="limitedStateInterstitialDialogPopover";return d.createElement(m.V,{isVisible:i,hide:t,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},d.createElement(u.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},d.createElement(u.x,{height:"550px",width:"900px",background:h.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,h.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},d.createElement(u.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},d.createElement(u.x,{paddingBottom:"24px"},d.createElement(x,null)),d.createElement(u.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},d.createElement(f.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),d.createElement(u.x,{padding:"0 0 24px 0"},d.createElement(p.z,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){t(),n((0,N.Dx)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),d.createElement(k.B,null,(function(e){var n=e.isVisible,i=e.toggle,t=e.hide;return d.createElement(v.J,{ariaId:a,isVisible:n,hide:t,display:"block",customZIndex:800,popoverRenderFn:function(){return d.createElement(u.x,{padding:"15px 20px",width:"400px"},d.createElement(S.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},d.createElement(u.x,{paddingTop:"10px"},d.createElement(g.r,{"aria-controls":a,"aria-expanded":n?"true":"false",onClick:i},d.createElement("u",null,d.createElement(S.F,{scale:"S"},"Why am I seeing this?")))))})))),d.createElement(u.x,{display:"flex",justifyContent:"center"},d.createElement(S.F,{scale:"M"},"View our"," ",d.createElement(g.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",d.createElement(g.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",d.createElement(g.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),P=i(14646);function C(){var e=a()(["\n  fragment LimitedStateInterstitial_post on Post {\n    creator {\n      id\n    }\n    isLimitedState\n  }\n"]);return C=function(){return e},e}var I=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function T(e){var n=e.post,i=n.creator,t=n.isLimitedState,a=e.children,o=(0,s.H)().value,r=null==o?void 0:o.id,c=(0,P.I)(),m=d.useState(!1),u=l()(m,2),p=u[0],v=u[1];return d.useEffect((function(){v(!0)}),[]),t&&(i&&i.id)!==r?d.createElement(k.B,{initialVisibility:!0},(function(e){var n=e.isVisible,i=e.hide;return d.createElement(d.Fragment,null,d.createElement("div",{className:c(I(n))},a),p&&d.createElement(_,{isVisible:n,hide:i}))})):a}(0,r.Ps)(C())},55193:(e,n,i)=>{"use strict";i.d(n,{v:()=>t,Q:()=>a});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]}},66018:(e,n,i)=>{"use strict";i.d(n,{Lv:()=>u});var t=i(28655),a=i.n(t),o=i(92471),l=i(67294),r=i(27517),d=i(25735),s=i(78285);function c(){var e=a()(["\n  fragment SuspendedBannerLoader_post on Post {\n    id\n    isSuspended\n  }\n"]);return c=function(){return e},e}function m(){var e=a()(["\n  fragment SuspendedBannerLoader_user on User {\n    id\n    isSuspended\n  }\n"]);return m=function(){return e},e}var u=function(e){var n=e.user,i=e.post,t=e.forceLoad,a=void 0!==t&&t,o=(0,r.I0)(),c=(0,d.VB)({name:"can_view_suspended_content",placeholder:!1})||a;return l.useEffect((function(){c&&(n&&n.isSuspended?o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):i&&i.isSuspended&&o((0,s.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED",extraParams:{postId:(null==i?void 0:i.id)||""}})))}),[c]),null};(0,o.Ps)(m()),(0,o.Ps)(c())},79246:(e,n,i)=>{"use strict";i.d(n,{N:()=>m});var t=i(63038),a=i.n(t),o=i(67294),l=i(27517),r=i(54558),d=i(78285),s=i(93537),c=i(98223),m=function(){var e=(0,l.I0)(),n=(0,d.w)(),i=(0,o.useState)("loading"),t=a()(i,2),m=t[0],u=t[1],p=(0,o.useCallback)((function(i,t,a){u(t?"rendered":"not_eligible"),t&&(e((0,s.T)(!0)),n({toastStyle:"ALTERNATE_USER",duration:"FOREVER",extraParams:{userSocialLogins:a}}))}),[n]);return(0,o.useEffect)((function(){e((0,c.e)(!0))}),[]),(0,o.useEffect)((function(){"not_eligible"===m&&e((0,c.e)(!1))}),[m]),o.createElement(r.o,{postRenderCallback:p})}},66149:(e,n,i)=>{"use strict";i.d(n,{Q:()=>f});var t=i(87757),a=i.n(t),o=i(48926),l=i.n(o),r=i(63038),d=i.n(r),s=i(67294),c=i(6443),m=i(66411),u=i(80872),p=i(78285),k=i(77280),v=i(43487),g=i(87498),f=function(){var e=(0,p.w)(),n=s.useState(!0),i=d()(n,2),t=i[0],o=i[1],r=(0,c.H)().value,f=(0,v.p9)((function(e){return e.session.xsrf})),S=(0,k.PM)(),N=(0,m.P7)(S||"").name;s.useEffect((function(){function e(){return(e=l()(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,u.vA)(r.id,f);case 4:n=e.sent,o(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null==r?void 0:r.id,f]),s.useEffect((function(){null!=r&&r.createdAt&&(new Date).getTime()-r.createdAt>5*g.uD&&!t&&"login"===N&&(e({toastStyle:"SIGN_IN_CONFIRMATION",duration:"FOREVER"}),o(!0),(0,u.oy)(r.id,f))}),[r,t,e,N,f])}},99849:(e,n,i)=>{"use strict";i.d(n,{t:()=>k});var t=i(63038),a=i.n(t),o=i(67294),l=i(27517),r=i(62367),d=i(45114),s=i(18627),c=i(66411),m=i(34135),u=i(78285),p=i(84509);function k(e,n,i){var t=(0,s.Av)(),k=(0,c.pK)(),v=(0,o.useState)(!1),g=a()(v,2),f=g[0],S=g[1],N=(0,l.I0)(),h=(0,r.k)();(0,o.useEffect)((function(){if(!f&&i){var a=function(){if(n.current&&!f){var a=(0,p.L6)(n.current),o=(0,p.tM)(a),l=o.top+o.height,r=(0,p.tM)((0,p.t_)()),s=r.top+r.height;if(!i.content.isLockedPreviewOnly&&s>=l-100&&k.includes("post_page")){S(!0),N((0,u.C2)(!0));var c={source:k,postId:i.id,collectionSlug:i.collection?i.collection.slug:"",sequenceId:i.sequence?i.sequence.sequenceId:""};t.event("post.clientRead",c),h&&(h.setLocalAttribute("latest.post.clientRead.url",window.location.href),c.postId&&h.setLocalAttribute("latest.post.clientRead.postId",c.postId),c.source&&h.setLocalAttribute("latest.post.clientRead.source",c.source)),e||(0,d.T8)(i.id)}}};return m.V6.on("scroll_end",a),function(){m.V6.off("scroll_end",a)}}}),[f,i,h]),(0,o.useEffect)((function(){return function(){N((0,u.C2)(!1))}}),[])}},22923:(e,n,i)=>{"use strict";i.d(n,{_:()=>a});var t=i(43487),a=function(e,n){return(0,t.v9)((function(i){var t;if(n&&i.meter[n])return null===(t=i.meter[n][e])||void 0===t?void 0:t.shouldShowDismissibleRegwall}))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3309.3c7bd333.chunk.js.map