"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5887],{55887:function(e,t,o){o.d(t,{Z:function(){return C}});var i=o(14924),s=o(85893),n=o(67294),l=o(48529),r=o(74494),c=o(75476);class d extends n.Component{componentDidMount(){this.props.active&&document.addEventListener("mousedown",this.handleClickOutside)}componentDidUpdate(){this.props.active?document.addEventListener("mousedown",this.handleClickOutside):document.removeEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleClickOutside)}render(){let{active:e,children:t}=this.props;return e?(0,s.jsx)("div",{ref:this.setWrapperRef,children:t}):(0,s.jsx)("div",{children:t})}constructor(...e){super(...e),(0,i.Z)(this,"setWrapperRef",e=>{this.wrapperRef=e}),(0,i.Z)(this,"handleClickOutside",e=>{this.wrapperRef&&!this.wrapperRef.contains(e.target)&&this.props.onOutsideClick()})}}d.defaultProps={onOutsideClick:()=>{}};var p=o(62299),a=o(26183),h=o(15714);class u extends n.PureComponent{updateCellPositions(){let e=this.getCellPositions();this.props.trackCells(e)}componentDidUpdate(e){this.updateCellPositions();let t=document.getElementById(window.location.hash.replace("#",""));window.location.hash&&t&&this.props.activeCell&&e.source!=this.props.source&&t.scrollIntoView()}componentDidMount(){let e=document.getElementById(window.location.hash.replace("#",""));window.location.hash&&e&&this.props.activeCell&&e.scrollIntoView(),this.updateCellPositions()}render(){let{source:e,notebookLink:t,activeCell:o,onCommentClick:i,onHoverCell:n,showTopPromptsMd:d,showCellEmbed:u,onEmbedClick:C,hideComments:m=!1,showFullOutput:y=!1,hideInput:k=!1,hidePrompt:v=!0,hideAnchor:w=!1,hideOutput:x=!1,isEmbedded:f=!1,hideToolbar:g=!1,disableHoverEffect:b,useIframeForHtml:j,showSaveButtons:Z=!1}=this.props,E=(0,p.v)(e);return E.cells?(0,s.jsx)(a.Z,{cells:E.cells,children:(0,s.jsx)("div",{children:E.cells.map((e,p)=>(0,s.jsxs)("div",{ref:this.setCellPosition(p),children:[!w&&(0,s.jsx)(h.Z,{id:"C".concat(p)}),(0,s.jsx)(r.Z,{id:"cell-".concat(p),active:o===p,disableHoverEffect:b,toolbar:(0,s.jsx)(c.Z,{hideToolbar:g||this.state.editCells.includes(p),onCommentClick:()=>i(p),source:"string"==typeof e.source?e.source:(e.source||[]).join(""),showCopy:"markdown"===e.cell_type||"code"===e.cell_type&&!k,cellLink:t?t+"#C".concat(p):null,codeCopied:this.state.codeCopied[p],linkCopied:this.state.linkCopied[p],setCodeUncopied:()=>this.setCodeUncopied(p),setLinkUncopied:()=>this.setLinkUncopied(p),onCodeCopy:(e,t)=>t?this.onCodeCopy(p):()=>{},onLinkCopy:(e,t)=>t?this.onLinkCopy(p):()=>{},hidePrompt:v,hideOutput:x,hideComments:m,showCellEmbed:u,onEmbedClick:()=>C(p),isMarkdown:(null==e?void 0:e.cell_type)==="markdown",isEmbedded:f,showEditButton:!!Z&&!this.state.editCells.includes(p)&&"markdown"===e.cell_type,onEditClick:()=>this.setState({editCells:[...this.state.editCells,p]})}),onHoverChange:e=>n(p,e),children:(0,s.jsx)(l.bL,{cell:e,onImageLoad:this.onImageLoad,copied:this.state.codeCopied[p],showTopPromptsMd:d,showFullOutput:y,hideInput:k,hidePrompt:v,hideOutput:x,useIframeForHtml:j,enableMarkdownEdit:this.state.editCells.includes(p),onCancelEditClick:()=>this.onCancelEditClick(p),onSaveClick:e=>this.onSaveClick(e,p)})})]},p))})}):null}constructor(...e){super(...e),(0,i.Z)(this,"state",{codeCopied:{},linkCopied:{},editCells:[]}),(0,i.Z)(this,"cells",{}),(0,i.Z)(this,"cellPositions",{}),(0,i.Z)(this,"setCellPosition",e=>t=>{this.cells[e]=t&&t}),(0,i.Z)(this,"getCellPositions",()=>{let e={};return(Object.keys(this.cells)||[]).forEach(t=>e[t]=this.cells[t]&&this.cells[t].offsetTop-8),e}),(0,i.Z)(this,"onImageLoad",()=>{this.updateCellPositions()}),(0,i.Z)(this,"onCodeCopy",e=>{this.setState({codeCopied:{...this.state.codeCopied,[e]:!0}},this.setLinkUncopied(e))}),(0,i.Z)(this,"onLinkCopy",e=>{this.setState({linkCopied:{...this.state.linkCopied,[e]:!0}},this.setCodeUncopied(e))}),(0,i.Z)(this,"setCodeUncopied",e=>{this.setState({codeCopied:{...this.state.codeCopied,[e]:!1}})}),(0,i.Z)(this,"setLinkUncopied",e=>{this.setState({linkCopied:{...this.state.linkCopied,[e]:!1}})}),(0,i.Z)(this,"setLinkUncopied",e=>{this.setState({linkCopied:{...this.state.linkCopied,[e]:!1}})}),(0,i.Z)(this,"onCancelEditClick",e=>{this.setState({editCells:this.state.editCells.filter(t=>t!==e)})}),(0,i.Z)(this,"onSaveClick",async(e,t)=>{let{source:o,title:i,updateGist:s}=this.props,n=(0,p.v)(o);n.cells[t]={...n.cells[t],source:[e]};let l=JSON.stringify(n),r=new File([l],i+".ipynb",{type:"text/plain"});s({files:r,successCallBack:()=>{this.setState({editCells:this.state.editCells.filter(e=>e!==t)})}})})}}var C=u;u.defaultProps={trackCells:()=>{},trackActiveCell:()=>{},source:{},notebookLink:null,onCommentClick:()=>{},onHoverCell:()=>{}}},62299:function(e,t,o){o.d(t,{n:function(){return i},v:function(){return s}});let i=e=>{let t=["nbformat","nbformat_minor","metadata"];return 4===e.nbformat?t.push("cells"):3===e.nbformat&&t.push("worksheets"),t.every(t=>t in e)},s=e=>{if(4===e.nbformat)return e;let{nbformat:t,name:o,signature:i,worksheets:s,...l}=e,r=s.reduce((e,t)=>e.concat(t.cells.map(e=>n(e))),[]);return{...l,nbformat:4,metadata:{orig_nbformat:t},cells:r}},n=e=>{if("code"===e.cell_type)"collapsed"in e&&(e.metadata.collapsed=e.collapsed),e.source=e.input||"",e.execution_count=e.prompt_number||0,e.outputs.map(e=>l(e));else if("heading"===e.cell_type){e.cell_type="markdown";let t=e.level||1;e.source="".concat("#".repeat(t)," ").concat(e.source.join(" ").split())}else"html"===e.cell_type&&(e.cell_type="markdown");let{prompt_number:t,input:o,level:i,collapsed:s,language:n,...r}=e;return r},l=e=>{if(["pyout","display_data"].includes(e.output_type)){"pyout"===e.output_type&&(e.output_type="execute_result",e.execution_count=e.prompt_number);let{output_type:t,execution_count:o,prompt_number:i,metadata:s,...n}=e;e.data=c(n),e.metadata=c(s),"application/json"in e.data&&(e.data["application/json"]=JSON.parse(e.data["application/json"]))}else"pyerr"===e.output_type?e.output_type="error":"stream"===e.output_type&&(e.name=e.stream||"stdout");return e},r={text:"text/plain",html:"text/html",svg:"image/svg+xml",png:"image/png",jpeg:"image/jpeg",latex:"text/latex",json:"application/json",javascript:"application/javascript"},c=e=>e?Object.entries(e).reduce((e,t)=>{let[o,i]=t;return Object.assign(e,o in r?{[r[o]]:i}:{[o]:i})},{}):e},74494:function(e,t,o){var i=o(14924),s=o(85893),n=o(67294),l=o(94184),r=o.n(l);class c extends n.PureComponent{render(){let{children:e,toolbar:t,active:o,disableHoverEffect:i}=this.props,{hovering:n}=this.state;return(0,s.jsxs)("div",{className:r()("relative rounded",{"hover:bg-gray-50 dark:hover:bg-gray-cell-hover":!i},o&&"bg-yellow-300 dark:bg-gray-cell-hover"),onMouseEnter:this.setHovering,onMouseLeave:this.setNotHovering,children:[(0,s.jsx)("div",{className:"h-full w-full",children:e}),n&&(0,s.jsx)("div",{className:"absolute right-0 top-0 inline-block",children:t})]})}constructor(...e){super(...e),(0,i.Z)(this,"state",{hovering:!1}),(0,i.Z)(this,"setHovering",()=>{this.setState({hovering:!0}),this.props.onHoverChange(!0)}),(0,i.Z)(this,"setNotHovering",()=>{this.setState({hovering:!1}),this.props.onHoverChange(!1)})}}c.defaultProps={onHoverChange:()=>{}},t.Z=c},75476:function(e,t,o){var i=o(14924),s=o(85893),n=o(67294),l=o(5434),r=o(80471),c=o(50859),d=o(89583),p=o(74855),a=o(44555),h=o(94184),u=o.n(h);class C extends n.Component{componentWillUnmount(){let{codeCopied:e,setCodeUncopied:t,linkCopied:o,setLinkUncopied:i}=this.props;e&&t(),o&&i()}render(){let{showBorder:e=!0,isEmbedded:t,hideToolbar:o=!1}=this.props;return(0,s.jsxs)("div",{className:u()("mt-1 flex h-7.5 items-center rounded bg-white dark:bg-gray-700 md:mr-1",e&&"border border-solid border-gray-300 dark:border-gray-600",o&&"hidden"),children:[this.renderResolveButton(),this.renderEditButton(),this.renderCopyButton(t?"left":"bottom"),this.renderCopyLinkButton(),this.renderEmbedButton(),this.renderCommentButton(),this.renderGoToCellButton()]})}constructor(...e){super(...e),(0,i.Z)(this,"makeCopyTooltip",()=>this.props.codeCopied?"Copied to clipboard!":this.props.isMarkdown?"Copy markdown":"Copy source code"),(0,i.Z)(this,"renderCopyButton",e=>this.props.showCopy&&this.props.source&&(0,s.jsx)(a.Z,{placement:e,content:this.makeCopyTooltip(),delay:{show:0,hide:0},showOnMobile:!0,children:(0,s.jsx)("span",{children:(0,s.jsx)(p.CopyToClipboard,{text:this.props.source,onCopy:this.props.onCodeCopy,children:(0,s.jsx)(d.Dup,{className:"focus:outline-none my-0 mx-1 h-4 w-4 cursor-pointer opacity-50 hover:opacity-80 focus:opacity-100"})})})})),(0,i.Z)(this,"renderCommentButton",()=>!this.props.hideComments&&(0,s.jsx)(a.Z,{content:"Comment",delay:{show:0,hide:0},children:(0,s.jsx)("div",{children:(0,s.jsx)(l.Hlg,{ref:this.comment,className:"focus:outline-none my-0 mx-1 h-5 w-5 cursor-pointer opacity-50 hover:opacity-80 focus:opacity-100",onClick:this.props.onCommentClick})})})),(0,i.Z)(this,"renderEmbedButton",()=>this.props.showCellEmbed&&(0,s.jsx)(a.Z,{content:"Embed Cell",delay:{show:0,hide:0},children:(0,s.jsx)("div",{children:(0,s.jsx)(c.vs1,{className:"focus:outline-none cursor-pointer opacity-50 hover:opacity-80 focus:opacity-100",style:{height:30,width:25,margin:"0 2px"},onClick:this.props.onEmbedClick})})})),(0,i.Z)(this,"renderCopyLinkButton",()=>this.props.cellLink&&(0,s.jsx)(a.Z,{content:this.props.linkCopied?"Copied to clipboard!":"Copy cell link",delay:{show:0,hide:0},bottom:!0,showOnMobile:!0,children:(0,s.jsx)(p.CopyToClipboard,{text:this.props.cellLink,onCopy:this.props.onLinkCopy,children:(0,s.jsx)(l.$l_,{className:"focus:outline-none h-5 w-5 cursor-pointer opacity-50 hover:opacity-80 focus:opacity-100",style:{margin:"0 2px"}})})})),(0,i.Z)(this,"renderGoToCellButton",()=>this.props.showGoToCell&&(0,s.jsx)(a.Z,{content:"Go to cell location",delay:{show:0,hide:0},children:(0,s.jsx)("div",{children:(0,s.jsx)(l.wgi,{className:"focus:outline-none mx-1 h-5 w-5 cursor-pointer opacity-50 hover:opacity-80 focus:opacity-100",onClick:this.props.onGoToCellClick,style:{height:18}})})})),(0,i.Z)(this,"renderEditButton",()=>this.props.showEditButton&&(0,s.jsx)(a.Z,{content:"Edit",delay:{show:0,hide:0},bottom:!0,showOnMobile:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(l.zmo,{className:"focus:outline-none cursor-pointer opacity-50 hover:opacity-80 focus:opacity-100",style:{height:18,width:18,margin:"0 2px"},onClick:this.props.onEditClick})})})),(0,i.Z)(this,"renderResolveButton",()=>{let{showResolveButton:e,onResolveClick:t,onUnresolveClick:o,resolved:i}=this.props;return e&&(i?(0,s.jsx)(a.Z,{content:"Unresolve",delay:{show:0,hide:0},bottom:!0,showOnMobile:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(r.HDP,{className:"focus:outline-none cursor-pointer opacity-50 hover:opacity-80 focus:opacity-100",style:{height:18,width:18,margin:"0 2px"},onClick:o})})}):(0,s.jsx)(a.Z,{content:"Resolve",delay:{show:0,hide:0},bottom:!0,showOnMobile:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(l.vB0,{className:"focus:outline-none cursor-pointer opacity-50 hover:opacity-80 focus:opacity-100",style:{height:18,width:18,margin:"0 2px"},onClick:t})})}))})}}C.defaultProps={onCommentClick:()=>{},onEmbedClick:()=>{},onCodeCopy:()=>{},onLinkCopy:()=>{},onGoToCellClick:()=>{},onEditClick:()=>{}},t.Z=C}}]);